"use strict";(self.webpackChunkconstruction_management_frontend=self.webpackChunkconstruction_management_frontend||[]).push([[703],{1703:(e,t,r)=>{r.r(t),r.d(t,{default:()=>q});var a=r(6601),s=r(9198),n=r(5826),l=r(2555),d=r(2930);const o="schedule-attachments";async function i(e,t,r){try{if(e.size>10485760)return{success:!1,error:"\ud30c\uc77c \ud06c\uae30\ub294 10MB\ub97c \ucd08\uacfc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."};const a=e.name.split(".").pop(),s="".concat(Date.now(),"-").concat(Math.random().toString(36).substring(7),".").concat(a),n="".concat(t,"/").concat(r,"/").concat(s);if(!d.supabase)return{success:!1,error:"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0 \uc624\ub958"};const{error:l}=await d.supabase.storage.from(o).upload(n,e,{cacheControl:"3600",upsert:!1});if(l)return console.error("\u274c File upload error:",l),{success:!1,error:l.message};const{data:{publicUrl:i}}=d.supabase.storage.from(o).getPublicUrl(n);return{success:!0,url:i,path:n}}catch(a){return console.error("\u274c Unexpected file upload error:",a),{success:!1,error:a.message||"\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."}}}function c(e){var t;return{jpg:"\ud83d\uddbc\ufe0f",jpeg:"\ud83d\uddbc\ufe0f",png:"\ud83d\uddbc\ufe0f",gif:"\ud83d\uddbc\ufe0f",pdf:"\ud83d\udcc4",doc:"\ud83d\udcdd",docx:"\ud83d\udcdd",xls:"\ud83d\udcca",xlsx:"\ud83d\udcca",ppt:"\ud83d\udcca",pptx:"\ud83d\udcca",zip:"\ud83d\udce6",rar:"\ud83d\udce6",txt:"\ud83d\udcc3"}[(null===(t=e.split(".").pop())||void 0===t?void 0:t.toLowerCase())||""]||"\ud83d\udcce"}var g=r(5582);const x=(0,a.FZ)(()=>(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-8 text-center",children:[(0,g.jsx)("p",{className:"text-gray-500 dark:text-gray-400",children:"\ub4f1\ub85d\ub41c \uc77c\uc815\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}),(0,g.jsx)("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-2",children:'\uc0c1\ub2e8\uc758 "+ \uc77c\uc815 \ucd94\uac00" \ubc84\ud2bc\uc744 \ub20c\ub7ec \uc77c\uc815\uc744 \ub4f1\ub85d\ud558\uc138\uc694.'})]}),{name:"ScheduleList_1"}),u=(0,a.FZ)(()=>(0,g.jsxs)("div",{className:"text-center py-12",children:[(0,g.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"\ub4f1\ub85d\ub41c \uc77c\uc815\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."}),(0,g.jsx)("p",{className:"text-gray-400 dark:text-gray-500 text-sm mt-2",children:'\uc0c1\ub2e8\uc758 "\uc77c\uc815 \ucd94\uac00" \ubc84\ud2bc\uc744 \ud074\ub9ad\ud574\uc11c \uc0c8 \uc77c\uc815\uc744 \ub9cc\ub4e4\uc5b4\ubcf4\uc138\uc694.'})]}),{name:"ScheduleList_2"}),h=(0,a.FZ)(e=>(0,g.jsxs)("div",{className:"space-y-4",children:[e.v0,e.v1]}),{name:"ScheduleList_3",portals:["v0","v1"]}),m=function(e){let{schedules:t,onEdit:r}=e;const{deleteSchedule:a,bulkDeleteSchedules:d,saveSchedule:o}=(0,n.n)(),[i,m]=(0,s.useState)([]);console.log("\ud83d\udcc5 [ScheduleList] Schedules data:",t);return t&&0!==t.length?0===t.length?(0,g.jsx)(u,{}):(0,g.jsx)(h,{v0:t.length>0&&(0,g.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 dark:bg-gray-700 rounded-lg p-3",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3",children:[(0,g.jsx)("input",{type:"checkbox",checked:i.length===t.length&&t.length>0,onChange:e=>{e.target.checked?m(t.map(e=>e.id)):m([])},className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,g.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:i.length>0?"".concat(i.length,"\uac1c \uc120\ud0dd\ub428"):"\uc804\uccb4 \uc120\ud0dd"})]}),i.length>0&&(0,g.jsxs)("button",{onClick:()=>{0!==i.length&&window.confirm("\uc120\ud0dd\ud55c ".concat(i.length,"\uac1c\uc758 \uc77c\uc815\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))&&(d(i),m([]))},className:"px-4 py-2 text-sm text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors",children:["\uc120\ud0dd \uc0ad\uc81c (",i.length,")"]})]}),v1:t.map(e=>{return(0,g.jsx)("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm hover:shadow-md transition-shadow",children:(0,g.jsxs)("div",{className:"flex justify-between items-start",children:[(0,g.jsx)("input",{type:"checkbox",checked:i.includes(e.id),onChange:t=>{return r=e.id,a=t.target.checked,void m(a?e=>[...e,r]:e=>e.filter(e=>e!==r));var r,a},onClick:e=>e.stopPropagation(),className:"w-4 h-4 mt-1 text-blue-600 border-gray-300 rounded focus:ring-blue-500 flex-shrink-0"}),(0,g.jsxs)("div",{className:"flex-1 ml-3",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(t=e.scheduleType,(0,g.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat({construction:"bg-purple-100 dark:bg-purple-900/30 text-purple-800 dark:text-purple-400",consultation:"bg-indigo-100 dark:bg-indigo-900/30 text-indigo-800 dark:text-indigo-400",meeting:"bg-pink-100 dark:bg-pink-900/30 text-pink-800 dark:text-pink-400",other:"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-400"}[t]),children:{construction:"\uacf5\uc0ac",consultation:"\uc0c1\ub2f4",meeting:"\ud68c\uc758",other:"\uae30\ud0c0"}[t]})),(0,g.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{const r=(0,l.A)((0,l.A)({},e),{},{status:t,updatedAt:(new Date).toISOString()});await o(r)})(e,t.target.value),onClick:e=>e.stopPropagation(),className:"px-2 py-1 text-xs rounded-full border-0 cursor-pointer ".concat("scheduled"===e.status?"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-800 dark:text-yellow-400":"in_progress"===e.status?"bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-400":"completed"===e.status?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-400":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-400"),children:[(0,g.jsx)("option",{value:"scheduled",children:"\ud83d\udcc5 \uc608\uc815"}),(0,g.jsx)("option",{value:"in_progress",children:"\u23f3 \uc9c4\ud589\uc911"}),(0,g.jsx)("option",{value:"completed",children:"\u2705 \uc644\ub8cc"}),(0,g.jsx)("option",{value:"cancelled",children:"\u274c \ucde8\uc18c"})]})]}),(0,g.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-1",children:e.title}),e.description&&(0,g.jsx)("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-2",children:e.description}),(0,g.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-500 dark:text-gray-400",children:[(0,g.jsxs)("div",{className:"flex items-center gap-1",children:[(0,g.jsx)("span",{children:"\ud83d\udcc5"}),(0,g.jsx)("span",{children:e.startDate}),e.startTime&&(0,g.jsx)("span",{children:e.startTime})]}),e.clientName&&(0,g.jsxs)("div",{className:"flex items-center gap-1",children:[(0,g.jsx)("span",{children:"\ud83d\udc64"}),(0,g.jsx)("span",{children:e.clientName})]}),e.location&&(0,g.jsxs)("div",{className:"flex items-center gap-1",children:[(0,g.jsx)("span",{children:"\ud83d\udccd"}),(0,g.jsx)("span",{children:e.location})]})]}),e.attachments&&e.attachments.length>0&&(0,g.jsxs)("div",{className:"mt-3 pt-3 border-t border-gray-200 dark:border-gray-700",children:[(0,g.jsx)("div",{className:"flex items-center gap-2 mb-2",children:(0,g.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["\ud83d\udcce \ucca8\ubd80\ud30c\uc77c (",e.attachments.length,")"]})}),(0,g.jsx)("div",{className:"flex flex-wrap gap-2",children:e.attachments.map((e,t)=>(0,g.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded text-sm text-gray-700 dark:text-gray-300 transition-colors",children:[(0,g.jsx)("span",{children:c(e.name)}),(0,g.jsx)("span",{className:"max-w-[200px] truncate",children:e.name})]},t))})]})]}),(0,g.jsxs)("div",{className:"flex gap-2 ml-4",children:[(0,g.jsx)("button",{onClick:()=>r(e),className:"px-3 py-1 text-sm text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded",children:"\ud3b8\uc9d1"}),(0,g.jsx)("button",{onClick:()=>{return t=e.id,void(window.confirm("\uc77c\uc815\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&a(t));var t},className:"px-3 py-1 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded",children:"\uc0ad\uc81c"})]})]})},e.id);var t})}):(0,g.jsx)(x,{})},b=(0,a.FZ)(e=>(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,g.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.v0}),(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)("button",{onClick:e.v1,className:"px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600",children:"\uc624\ub298"}),(0,g.jsx)("button",{onClick:e.v2,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:(0,g.jsx)("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,g.jsx)("button",{onClick:e.v3,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:(0,g.jsx)("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})}),(0,g.jsx)("div",{className:"grid grid-cols-7 bg-gray-50 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-700",children:e.v4}),(0,g.jsx)("div",{className:"grid grid-cols-7",children:e.v5})]}),{name:"ScheduleCalendar_1",portals:["v0","v4","v5"]}),y=function(e){let{schedules:t,currentDate:r,onDateChange:a,onScheduleClick:n,onDateClick:l}=e;const d=(0,s.useMemo)(()=>{const e=(t=r,new Date(t.getFullYear(),t.getMonth()+1,0).getDate());var t;const a=(e=>new Date(e.getFullYear(),e.getMonth(),1).getDay())(r),s=[];for(let r=0;r<a;r++)s.push({date:null,fullDate:null});for(let n=1;n<=e;n++){const e=new Date(r.getFullYear(),r.getMonth(),n);s.push({date:n,fullDate:e})}return s},[r]),o=e=>{switch(e){case"urgent":return"bg-red-500 dark:bg-red-600";case"high":return"bg-orange-500 dark:bg-orange-600";case"normal":default:return"bg-blue-500 dark:bg-blue-600";case"low":return"bg-gray-400 dark:bg-gray-600"}};return(0,g.jsx)(b,{v0:(i=r,"".concat(i.getFullYear(),"\ub144 ").concat(i.getMonth()+1,"\uc6d4")),v1:()=>{a(new Date)},v2:()=>{const e=new Date(r);e.setMonth(e.getMonth()-1),a(e)},v3:()=>{const e=new Date(r);e.setMonth(e.getMonth()+1),a(e)},v4:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"].map((e,t)=>(0,g.jsx)("div",{className:"p-2 text-center text-sm font-semibold ".concat(0===t?"text-red-600 dark:text-red-400":6===t?"text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300"),children:e},e)),v5:d.map((e,r)=>{const a=e.fullDate?(e=>{if(!e)return[];const r=e.toISOString().split("T")[0];return t.filter(e=>e.startDate===r)})(e.fullDate):[],s=(e=>{if(!e)return!1;const t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()})(e.fullDate);return(0,g.jsx)("div",{onClick:()=>e.fullDate&&l(e.fullDate),className:"min-h-[100px] p-2 border-b border-r border-gray-200 dark:border-gray-700 ".concat(e.date?"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700":"bg-gray-50 dark:bg-gray-900"),children:e.date&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:"text-sm font-medium mb-1 ".concat(s?"inline-flex items-center justify-center w-6 h-6 bg-blue-600 text-white rounded-full":r%7===0?"text-red-600 dark:text-red-400":r%7===6?"text-blue-600 dark:text-blue-400":"text-gray-900 dark:text-gray-100"),children:e.date}),(0,g.jsxs)("div",{className:"space-y-1",children:[a.slice(0,3).map(e=>(0,g.jsxs)("div",{onClick:t=>{t.stopPropagation(),n(e)},className:"text-xs px-1 py-0.5 rounded truncate text-white ".concat(o(e.priority)),title:e.title,children:[e.startTime&&"".concat(e.startTime," "),e.title]},e.id)),a.length>3&&(0,g.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-400 px-1",children:["+",a.length-3,"\uac1c \ub354"]})]})]})},r)})});var i},p=(0,a.FZ)(e=>(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,g.jsx)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:e.v0}),(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)("button",{onClick:e.v1,className:"px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600",children:"\uc624\ub298"}),(0,g.jsx)("button",{onClick:e.v2,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:(0,g.jsx)("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,g.jsx)("button",{onClick:e.v3,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:(0,g.jsx)("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})}),(0,g.jsx)("div",{className:"overflow-x-auto",children:(0,g.jsxs)("div",{className:"inline-block min-w-full",children:[(0,g.jsxs)("div",{className:"grid grid-cols-8 border-b border-gray-200 dark:border-gray-700",children:[(0,g.jsx)("div",{className:"p-2 text-center text-sm font-semibold text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-900",children:"\uc2dc\uac04"}),e.v4]}),(0,g.jsx)("div",{children:e.v5})]})})]}),{name:"ScheduleWeekView_1",portals:["v0","v4","v5"]}),v=function(e){let{schedules:t,currentDate:r,onDateChange:a,onScheduleClick:n}=e;const l=e=>{const t=new Date(e),r=t.getDay(),a=t.getDate()-r,s=new Date(t.setDate(a)),n=[];for(let l=0;l<7;l++){const e=new Date(s);e.setDate(s.getDate()+l),n.push(e)}return n},d=(0,s.useMemo)(()=>l(r),[r]),o=(0,s.useMemo)(()=>{const e=[];for(let t=6;t<=22;t++)e.push(t);return e},[]),i=(e,r)=>{const a=(e=>{const r=e.toISOString().split("T")[0];return t.filter(e=>e.startDate===r)})(e);return a.filter(e=>{if(e.allDay)return 6===r;if(e.startTime){return parseInt(e.startTime.split(":")[0])===r}return 6===r})},c=e=>{switch(e){case"urgent":return"bg-red-500 dark:bg-red-600";case"high":return"bg-orange-500 dark:bg-orange-600";case"normal":default:return"bg-blue-500 dark:bg-blue-600";case"low":return"bg-gray-400 dark:bg-gray-600"}};return(0,g.jsx)(p,{v0:(e=>{const t=l(e),r=t[0],a=t[6],s=r.getMonth()+1,n=a.getMonth()+1;return s===n?"".concat(r.getFullYear(),"\ub144 ").concat(s,"\uc6d4 ").concat(r.getDate(),"\uc77c - ").concat(a.getDate(),"\uc77c"):"".concat(r.getFullYear(),"\ub144 ").concat(s,"\uc6d4 ").concat(r.getDate(),"\uc77c - ").concat(n,"\uc6d4 ").concat(a.getDate(),"\uc77c")})(r),v1:()=>{a(new Date)},v2:()=>{const e=new Date(r);e.setDate(e.getDate()-7),a(e)},v3:()=>{const e=new Date(r);e.setDate(e.getDate()+7),a(e)},v4:d.map((e,t)=>{const r=(e=>{const t=new Date;return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()})(e);return(0,g.jsxs)("div",{className:"p-2 text-center border-l border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900 ".concat(0===t?"text-red-600 dark:text-red-400":6===t?"text-blue-600 dark:text-blue-400":"text-gray-700 dark:text-gray-300"),children:[(0,g.jsx)("div",{className:"text-xs font-semibold",children:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"][t]}),(0,g.jsx)("div",{className:"text-sm ".concat(r?"inline-flex items-center justify-center w-6 h-6 bg-blue-600 text-white rounded-full":""),children:e.getDate()})]},t)}),v5:o.map(e=>(0,g.jsxs)("div",{className:"grid grid-cols-8 border-b border-gray-200 dark:border-gray-700 min-h-[60px]",children:[(0,g.jsxs)("div",{className:"p-2 text-center text-xs text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-900",children:[e,":00"]}),d.map((t,r)=>{const a=i(t,e);return(0,g.jsx)("div",{className:"p-1 border-l border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:(0,g.jsx)("div",{className:"space-y-1",children:a.map(e=>(0,g.jsxs)("div",{onClick:()=>n(e),className:"text-xs px-1 py-0.5 rounded cursor-pointer text-white ".concat(c(e.priority)),title:e.title,children:[(0,g.jsxs)("div",{className:"truncate font-medium",children:[e.startTime&&!e.allDay&&"".concat(e.startTime," "),e.title]}),e.location&&(0,g.jsxs)("div",{className:"truncate text-white text-opacity-80 text-[10px]",children:["\ud83d\udccd ",e.location]})]},e.id))})},r)})]},e))})},k=(0,a.FZ)(e=>(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[(0,g.jsxs)("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:[e.v0,e.v1]}),(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)("button",{onClick:e.v2,className:"px-3 py-1 text-sm bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded hover:bg-gray-200 dark:hover:bg-gray-600",children:"\uc624\ub298"}),(0,g.jsx)("button",{onClick:e.v3,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:(0,g.jsx)("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,g.jsx)("button",{onClick:e.v4,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded",children:(0,g.jsx)("svg",{className:"w-5 h-5 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]}),(0,g.jsxs)("div",{className:"mt-3 flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[(0,g.jsxs)("div",{children:["\uc804\uccb4 \uc77c\uc815: ",(0,g.jsxs)("span",{className:"font-medium text-gray-900 dark:text-white",children:[e.v5,"\uac1c"]})]}),(0,g.jsxs)("div",{children:["\uc644\ub8cc: ",(0,g.jsxs)("span",{className:"font-medium text-green-600 dark:text-green-400",children:[e.v6,"\uac1c"]})]}),(0,g.jsxs)("div",{children:["\uc9c4\ud589\uc911: ",(0,g.jsxs)("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:[e.v7,"\uac1c"]})]})]})]}),(0,g.jsx)("div",{className:"overflow-y-auto max-h-[600px]",children:e.v8}),e.v9]}),{name:"ScheduleDayView_1",portals:["v0","v1","v5","v6","v7","v8","v9"]}),f=function(e){let{schedules:t,currentDate:r,onDateChange:a,onScheduleClick:n}=e;const l=(0,s.useMemo)(()=>{const e=[];for(let t=6;t<=22;t++)e.push(t);return e},[]),d=(0,s.useMemo)(()=>{const e=r.toISOString().split("T")[0];return t.filter(t=>t.startDate===e)},[t,r]),o=e=>{switch(e){case"urgent":return"bg-red-500 dark:bg-red-600";case"high":return"bg-orange-500 dark:bg-orange-600";case"normal":default:return"bg-blue-500 dark:bg-blue-600";case"low":return"bg-gray-400 dark:bg-gray-600"}},i=e=>{switch(e){case"scheduled":default:return"\ud83d\udcc5";case"in_progress":return"\u23f3";case"completed":return"\u2705";case"cancelled":return"\u274c"}};return(0,g.jsx)(k,{v0:(e=>{const t=e.getFullYear(),r=e.getMonth()+1,a=e.getDate(),s=["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"][e.getDay()];return"".concat(t,"\ub144 ").concat(r,"\uc6d4 ").concat(a,"\uc77c ").concat(s)})(r),v1:(()=>{const e=new Date;return r.getFullYear()===e.getFullYear()&&r.getMonth()===e.getMonth()&&r.getDate()===e.getDate()})()&&(0,g.jsx)("span",{className:"ml-2 px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded",children:"\uc624\ub298"}),v2:()=>{a(new Date)},v3:()=>{const e=new Date(r);e.setDate(e.getDate()-1),a(e)},v4:()=>{const e=new Date(r);e.setDate(e.getDate()+1),a(e)},v5:d.length,v6:d.filter(e=>"completed"===e.status).length,v7:d.filter(e=>"in_progress"===e.status).length,v8:l.map(e=>{const t=(e=>d.filter(t=>t.allDay?6===e:t.startTime?parseInt(t.startTime.split(":")[0])===e:6===e))(e);return(0,g.jsxs)("div",{className:"flex border-b border-gray-200 dark:border-gray-700 min-h-[80px]",children:[(0,g.jsx)("div",{className:"w-20 flex-shrink-0 p-3 text-center text-sm text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-900",children:(0,g.jsxs)("div",{className:"font-medium",children:[e,":00"]})}),(0,g.jsx)("div",{className:"flex-1 p-2 hover:bg-gray-50 dark:hover:bg-gray-700",children:0===t.length?(0,g.jsx)("div",{className:"h-full flex items-center justify-center text-xs text-gray-400 dark:text-gray-600",children:"\uc77c\uc815 \uc5c6\uc74c"}):(0,g.jsx)("div",{className:"space-y-2",children:t.map(e=>(0,g.jsxs)("div",{onClick:()=>n(e),className:"p-3 rounded-lg cursor-pointer shadow-sm hover:shadow-md transition-shadow text-white ".concat(o(e.priority)),children:[(0,g.jsx)("div",{className:"flex items-start justify-between mb-2",children:(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsxs)("div",{className:"font-medium text-base",children:[i(e.status)," ",e.title]}),e.startTime&&!e.allDay&&(0,g.jsxs)("div",{className:"text-xs mt-1 text-white text-opacity-90",children:["\u23f0 ",e.startTime,e.endTime&&" - ".concat(e.endTime)]}),e.allDay&&(0,g.jsx)("div",{className:"text-xs mt-1 text-white text-opacity-90",children:"\ud83d\udcc5 \uc885\uc77c"})]})}),(0,g.jsxs)("div",{className:"space-y-1 text-xs text-white text-opacity-90",children:[e.clientName&&(0,g.jsxs)("div",{children:["\ud83d\udc64 ",e.clientName]}),e.location&&(0,g.jsxs)("div",{children:["\ud83d\udccd ",e.location]}),e.projectName&&(0,g.jsxs)("div",{children:["\ud83c\udfd7\ufe0f ",e.projectName]}),e.description&&(0,g.jsx)("div",{className:"mt-2 text-white text-opacity-80",children:e.description})]})]},e.id))})})]},e)}),v9:0===d.length&&(0,g.jsxs)("div",{className:"p-8 text-center",children:[(0,g.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcc5"}),(0,g.jsx)("div",{className:"text-gray-500 dark:text-gray-400",children:"\uc774 \ub0a0\uc9dc\uc5d0 \uc608\uc815\ub41c \uc77c\uc815\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"})]})})};function j(e,t,r){if(!e.isRecurring||!e.recurrenceRule)return[e];const a=[],{frequency:s,interval:n,endDate:d,daysOfWeek:o}=e.recurrenceRule,i=new Date(t),c=new Date(r),g=new Date(e.startDate),x=d?new Date(d):c;let u=new Date(g);const h=x<c?x:c;for(;u<=h;){if(u>=i){if("weekly"===s&&o&&o.length>0){const e=u.getDay();if(!o.includes(e)){w(u,s,n);continue}}const t=(0,l.A)((0,l.A)({},e),{},{id:e.id,startDate:N(u),endDate:e.endDate?N(new Date(new Date(u).getTime()+(new Date(e.endDate).getTime()-new Date(e.startDate).getTime()))):void 0});a.push(t)}w(u,s,n)}return a}function w(e,t,r){switch(t){case"daily":e.setDate(e.getDate()+r);break;case"weekly":e.setDate(e.getDate()+7*r);break;case"monthly":e.setMonth(e.getMonth()+r);break;case"yearly":e.setFullYear(e.getFullYear()+r)}}function N(e){const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(r,"-").concat(a)}function D(e,t){if(e.id===t.id)return!1;const r=new Date(e.startDate),a=e.endDate?new Date(e.endDate):r,s=new Date(t.startDate),n=t.endDate?new Date(t.endDate):s;if(a<s||n<r)return!1;if(e.allDay||t.allDay)return!0;if(!e.startTime||!t.startTime)return!0;if(!(r.toDateString()===s.toDateString()))return!1;const l=C(e.startTime),d=e.endTime?C(e.endTime):l,o=C(t.startTime),i=t.endTime?C(t.endTime):o;return!(d<=o||i<=l)}function C(e){const[t,r]=e.split(":").map(Number);return 60*t+r}function S(e){var t;if(null!==(t=e.recurrenceRule)&&void 0!==t&&t.endDate)return e.recurrenceRule.endDate;const r=new Date(e.startDate),a=new Date(r);a.setFullYear(a.getFullYear()+1);const s=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0");return"".concat(s,"-").concat(n,"-").concat(l)}function T(e){if(0===e.length)return"";if(1===e.length){const t=e[0];return'"'.concat(t.title,'" \uc77c\uc815\uacfc \uc2dc\uac04\uc774 \uacb9\uce69\ub2c8\ub2e4.')}return"".concat(e.length,"\uac1c\uc758 \uc77c\uc815\uacfc \uc2dc\uac04\uc774 \uacb9\uce69\ub2c8\ub2e4: ").concat(e.map(e=>e.title).join(", "))}var F=r(4491);const M=(0,a.FZ)(e=>(0,g.jsx)("div",{className:"fixed inset-0 bg-gray-800/50 dark:bg-gray-900/70 backdrop-blur-sm overflow-y-auto h-full w-full z-50",children:(0,g.jsxs)("div",{className:"relative top-8 mx-auto w-[800px] max-w-[95vw] shadow-2xl rounded-2xl bg-white/80 dark:bg-gray-800/90 ring-1 ring-black/5 dark:ring-white/10 mb-8",children:[(0,g.jsx)("div",{className:"rounded-t-2xl bg-gradient-to-br from-indigo-50 via-purple-50 to-white dark:from-indigo-900/30 dark:via-purple-900/30 dark:to-gray-800 px-8 pt-5 pb-3",children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)("h3",{className:"text-2xl font-extrabold tracking-tight text-indigo-600 dark:text-indigo-400",children:e.v0}),(0,g.jsx)("p",{className:"mt-2 text-sm text-gray-500 dark:text-gray-400",children:"\uacf5\uc0ac \uc77c\uc815\uacfc \uc0c1\ub2f4 \uc77c\uc815\uc744 \ub4f1\ub85d\ud558\uace0 \uad00\ub9ac\ud558\uc138\uc694"})]})}),(0,g.jsxs)("form",{id:"schedule-form",onSubmit:e.v1,className:"px-5 pb-5 pt-3 space-y-3",children:[e.v2,(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-3",children:[(0,g.jsxs)("div",{className:"flex items-center mb-2 gap-2",children:[(0,g.jsx)("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 text-sm",children:"\ud83d\udcdd"}),(0,g.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"\uae30\ubcf8 \uc815\ubcf4"})]}),(0,g.jsxs)("div",{className:"mb-2",children:[(0,g.jsx)("label",{htmlFor:"schedule-title",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\uc81c\ubaa9 *"}),(0,g.jsx)("input",{id:"schedule-title",type:"text",value:e.v3,onChange:e.v4,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,g.jsxs)("div",{className:"mb-2",children:[(0,g.jsx)("label",{htmlFor:"schedule-description",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\uc124\uba85"}),(0,g.jsx)("textarea",{id:"schedule-description",value:e.v5,onChange:e.v6,rows:2,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"schedule-type",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\uc720\ud615 *"}),(0,g.jsxs)("select",{id:"schedule-type",value:e.v7,onChange:e.v8,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,g.jsx)("option",{value:"construction",children:"\uacf5\uc0ac"}),(0,g.jsx)("option",{value:"consultation",children:"\uc0c1\ub2f4"}),(0,g.jsx)("option",{value:"meeting",children:"\ud68c\uc758"}),(0,g.jsx)("option",{value:"other",children:"\uae30\ud0c0"})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"schedule-status",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\uc0c1\ud0dc"}),(0,g.jsxs)("select",{id:"schedule-status",value:e.v9,onChange:e.v10,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,g.jsx)("option",{value:"scheduled",children:"\uc608\uc815"}),(0,g.jsx)("option",{value:"in_progress",children:"\uc9c4\ud589\uc911"}),(0,g.jsx)("option",{value:"completed",children:"\uc644\ub8cc"}),(0,g.jsx)("option",{value:"cancelled",children:"\ucde8\uc18c"})]})]})]})]}),(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-3",children:[(0,g.jsxs)("div",{className:"flex items-center mb-2 gap-2",children:[(0,g.jsx)("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-green-50 dark:bg-green-900/30 text-green-600 dark:text-green-400 text-sm",children:"\ud83d\udcc5"}),(0,g.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"\uc77c\uc2dc \uc815\ubcf4"})]}),(0,g.jsxs)("div",{className:"flex items-center mb-2",children:[(0,g.jsx)("input",{type:"checkbox",id:"allDay",checked:e.v11,onChange:e.v12,className:"w-4 h-4 rounded border-gray-300"}),(0,g.jsx)("label",{htmlFor:"allDay",className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"\uc885\uc77c"})]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"start-date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\uc2dc\uc791\uc77c *"}),e.v13]}),e.v14]}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"end-date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\uc885\ub8cc\uc77c"}),e.v15]}),e.v16]})]}),(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-3",children:[(0,g.jsxs)("div",{className:"flex items-center mb-2 gap-2",children:[(0,g.jsx)("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-blue-50 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 text-sm",children:"\ud83d\udc65"}),(0,g.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"\uad00\ub828 \uc815\ubcf4"})]}),(0,g.jsxs)("div",{className:"mb-2",children:[(0,g.jsx)("label",{htmlFor:"schedule-client",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\uac74\ucd95\uc8fc"}),(0,g.jsxs)("select",{id:"schedule-client",value:e.v17,onChange:e.v18,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,g.jsx)("option",{value:"",children:"\uc120\ud0dd \uc548\ud568"}),e.v19]})]}),(0,g.jsxs)("div",{className:"mb-2",children:[(0,g.jsx)("label",{htmlFor:"schedule-location",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\uc7a5\uc18c"}),(0,g.jsx)("input",{id:"schedule-location",type:"text",value:e.v20,onChange:e.v21,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"schedule-priority",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\uc6b0\uc120\uc21c\uc704"}),(0,g.jsxs)("select",{id:"schedule-priority",value:e.v22,onChange:e.v23,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,g.jsx)("option",{value:"low",children:"\ub0ae\uc74c"}),(0,g.jsx)("option",{value:"normal",children:"\ubcf4\ud1b5"}),(0,g.jsx)("option",{value:"high",children:"\ub192\uc74c"}),(0,g.jsx)("option",{value:"urgent",children:"\uae34\uae09"})]})]})]}),(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-3",children:[(0,g.jsxs)("div",{className:"flex items-center mb-2 gap-2",children:[(0,g.jsx)("span",{className:"inline-flex h-6 w-6 items-center justify-center rounded-full bg-purple-50 dark:bg-purple-900/30 text-purple-600 dark:text-purple-400 text-sm",children:"\ud83d\udccc"}),(0,g.jsx)("h4",{className:"text-sm font-semibold text-gray-900 dark:text-gray-100",children:"\ucd94\uac00 \uc815\ubcf4"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"schedule-notes",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\uba54\ubaa8"}),(0,g.jsx)("textarea",{id:"schedule-notes",value:e.v24,onChange:e.v25,rows:3,className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-3",children:[(0,g.jsxs)("div",{className:"flex items-center mb-2",children:[(0,g.jsx)("input",{type:"checkbox",id:"reminderEnabled",checked:e.v26,onChange:e.v27,className:"w-4 h-4 rounded border-gray-300"}),(0,g.jsx)("label",{htmlFor:"reminderEnabled",className:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"\ud83d\udd14 \uc54c\ub9bc \ubc1b\uae30"})]}),e.v28]}),(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-3",children:[(0,g.jsxs)("div",{className:"flex items-center mb-2",children:[(0,g.jsx)("input",{type:"checkbox",id:"isRecurring",checked:e.v29,onChange:e.v30,className:"w-4 h-4 rounded border-gray-300"}),(0,g.jsx)("label",{htmlFor:"isRecurring",className:"ml-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"\ud83d\udd04 \ubc18\ubcf5 \uc77c\uc815"})]}),e.v31]}),(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-3",children:[(0,g.jsx)("div",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\ud83d\udcce \ucca8\ubd80\ud30c\uc77c"}),(0,g.jsxs)("div",{className:"mb-2",children:[(0,g.jsx)("input",{type:"file",multiple:!0,onChange:e.v32,className:"hidden",id:"file-upload",disabled:e.v33}),(0,g.jsx)("label",{htmlFor:"file-upload",className:e.v34,children:e.v35}),(0,g.jsx)("span",{className:"ml-2 text-xs text-gray-500 dark:text-gray-400",children:"\ucd5c\ub300 10MB"})]}),e.v36]})]}),(0,g.jsx)("div",{className:"sticky bottom-0 left-0 right-0 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm border-t border-gray-200 dark:border-gray-700 px-6 py-4 rounded-b-2xl shadow-lg",children:(0,g.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,g.jsx)("button",{type:"button",onClick:e.v37,className:"px-6 py-2.5 text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg transition font-medium",children:"\ucde8\uc18c"}),(0,g.jsx)("button",{type:"submit",form:"schedule-form",className:"px-6 py-2.5 rounded-lg bg-gradient-to-r from-indigo-500 to-purple-600 hover:from-indigo-600 hover:to-purple-700 text-white shadow-md transition font-bold",children:e.v38})]})})]})}),{name:"ScheduleForm_1",portals:["v0","v2","v13","v14","v15","v16","v19","v28","v31","v35","v36","v38"]}),_=function(e){let{schedule:t,onClose:r}=e;const{saveSchedule:a,clients:l,schedules:o}=(0,n.n)(),[x,u]=(0,s.useState)(""),[h,m]=(0,s.useState)(""),[b,y]=(0,s.useState)("construction"),[p,v]=(0,s.useState)(""),[k,f]=(0,s.useState)(""),[w,N]=(0,s.useState)(""),[C,_]=(0,s.useState)(""),[A,E]=(0,s.useState)(!1),[R,I]=(0,s.useState)(""),[O,G]=(0,s.useState)(""),[Y,L]=(0,s.useState)("scheduled"),[P,B]=(0,s.useState)("normal"),[W,U]=(0,s.useState)(""),[Z,z]=(0,s.useState)(!1),[H,q]=(0,s.useState)(30),[K,V]=(0,s.useState)(!1),[Q,J]=(0,s.useState)("weekly"),[X,$]=(0,s.useState)(1),[ee,te]=(0,s.useState)(""),re=(0,F._)({value:p,onChange:v}),ae=(0,F._)({value:w,onChange:N}),se=(0,F._)({value:ee,onChange:te}),ne=(0,s.useRef)(null),le=(0,s.useRef)(null),de=(0,s.useRef)(null),[oe,ie]=(0,s.useState)([]),[ce,ge]=(0,s.useState)([]),[xe,ue]=(0,s.useState)(!1),[he,me]=(0,s.useState)([]),[be,ye]=(0,s.useState)(!1);(0,s.useEffect)(()=>{t&&(u(t.title),m(t.description||""),y(t.scheduleType),v(t.startDate),f(t.startTime||""),N(t.endDate||""),_(t.endTime||""),E(t.allDay),I(t.clientId||""),G(t.location||""),L(t.status),B(t.priority),U(t.notes||""),z(t.reminderEnabled),q(t.reminderMinutesBefore||30),V(t.isRecurring),t.recurrenceRule&&(J(t.recurrenceRule.frequency),$(t.recurrenceRule.interval),te(t.recurrenceRule.endDate||""),ie(t.recurrenceRule.daysOfWeek||[])),me(t.attachments||[]))},[t]),(0,s.useEffect)(()=>{if(!x.trim()||!p)return void ge([]);const e=function(e,t){const r=[],a=e.isRecurring&&e.recurrenceRule?j(e,e.startDate,S(e)):[e];return t.forEach(e=>{const t=e.isRecurring&&e.recurrenceRule?j(e,e.startDate,S(e)):[e];for(const s of a){for(const a of t)if(D(s,a)){r.find(t=>t.id===e.id)||r.push(e);break}if(r.find(t=>t.id===e.id))break}}),r}({id:(null===t||void 0===t?void 0:t.id)||0,userId:"",title:x.trim(),description:h.trim()||void 0,scheduleType:b,startDate:p,startTime:A?void 0:k||void 0,endDate:w||void 0,endTime:A?void 0:C||void 0,allDay:A,clientId:R||void 0,clientName:void 0,status:Y,priority:P,location:O.trim()||void 0,notes:W.trim()||void 0,reminderEnabled:Z,reminderMinutesBefore:Z?H:void 0,isRecurring:K,recurrenceRule:K?{frequency:Q,interval:X,endDate:ee||void 0,daysOfWeek:"weekly"===Q&&oe.length>0?oe:void 0}:void 0,createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()},t?o.filter(e=>e.id!==t.id):o);ge(e),ue(e.length>0)},[x,p,k,w,C,A,K,Q,X,ee,oe,o,t,b,R,Y,P,O,W,Z,H,h]);return(0,g.jsx)(M,{v0:t?"\uc77c\uc815 \uc218\uc815":"\uc77c\uc815 \ucd94\uac00",v1:async e=>{var s;if(e.preventDefault(),!x.trim()||!p)return void alert("\uc81c\ubaa9\uacfc \uc2dc\uc791\uc77c\uc740 \ud544\uc218\uc785\ub2c8\ub2e4.");const n=R?null===(s=l.find(e=>e.id===R))||void 0===s?void 0:s.name:void 0,d={id:(null===t||void 0===t?void 0:t.id)||0,userId:"",title:x.trim(),description:h.trim()||void 0,scheduleType:b,startDate:p,startTime:A?void 0:k||void 0,endDate:w||void 0,endTime:A?void 0:C||void 0,allDay:A,clientId:R||void 0,clientName:n,status:Y,priority:P,location:O.trim()||void 0,notes:W.trim()||void 0,reminderEnabled:Z,reminderMinutesBefore:Z?H:void 0,isRecurring:K,recurrenceRule:K?{frequency:Q,interval:X,endDate:ee||void 0,daysOfWeek:"weekly"===Q&&oe.length>0?oe:void 0}:void 0,attachments:he.length>0?he:void 0,createdAt:(null===t||void 0===t?void 0:t.createdAt)||(new Date).toISOString(),updatedAt:(new Date).toISOString()};await a(d),r()},v2:xe&&ce.length>0&&(0,g.jsx)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 dark:border-yellow-600 p-4",children:(0,g.jsxs)("div",{className:"flex items-start",children:[(0,g.jsx)("div",{className:"flex-shrink-0",children:(0,g.jsx)("svg",{className:"h-5 w-5 text-yellow-400 dark:text-yellow-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,g.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),(0,g.jsxs)("div",{className:"ml-3 flex-1",children:[(0,g.jsx)("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-200",children:"\u26a0\ufe0f \uc77c\uc815 \ucda9\ub3cc \uac10\uc9c0"}),(0,g.jsxs)("div",{className:"mt-2 text-sm text-yellow-700 dark:text-yellow-300",children:[(0,g.jsx)("p",{children:T(ce)}),(0,g.jsxs)("div",{className:"mt-2",children:[(0,g.jsx)("p",{className:"font-medium",children:"\ucda9\ub3cc\ud558\ub294 \uc77c\uc815:"}),(0,g.jsx)("ul",{className:"mt-1 list-disc list-inside",children:ce.map(e=>(0,g.jsxs)("li",{children:[e.title," (",e.startDate,e.startTime?" ".concat(e.startTime):"",")"]},e.id))})]})]}),(0,g.jsx)("div",{className:"mt-3",children:(0,g.jsx)("button",{type:"button",onClick:()=>ue(!1),className:"text-sm font-medium text-yellow-800 dark:text-yellow-200 hover:text-yellow-900 dark:hover:text-yellow-100",children:"\ubb34\uc2dc\ud558\uace0 \uacc4\uc18d\ud558\uae30 \u2192"})})]})]})}),v3:x,v4:e=>u(e.target.value),v5:h,v6:e=>m(e.target.value),v7:b,v8:e=>y(e.target.value),v9:Y,v10:e=>L(e.target.value),v11:A,v12:e=>E(e.target.checked),v13:(0,g.jsxs)("div",{className:"relative inline-block w-full",ref:ne,children:[(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)("input",{id:"start-date",name:"startDate",autoComplete:"off",type:"text",value:p,onChange:e=>v(e.target.value),placeholder:"YYYY-MM-DD",inputMode:"numeric",className:"block w-full border border-gray-200 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500",onFocus:()=>re.setOpen(!0),required:!0}),(0,g.jsx)("button",{type:"button",className:"px-2 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",onClick:()=>re.setOpen(e=>!e),"aria-label":"\ub2ec\ub825 \uc5f4\uae30",children:"\ud83d\udcc5"})]}),re.open&&(0,g.jsxs)("div",{className:"absolute z-50 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg mt-2 p-3",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,g.jsx)("button",{type:"button",className:"px-2 py-1 text-sm border dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:re.prevMonth,children:"\u25c0"}),(0,g.jsxs)("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[re.month.getFullYear(),"\ub144 ",re.month.getMonth()+1,"\uc6d4"]}),(0,g.jsx)("button",{type:"button",className:"px-2 py-1 text-sm border dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:re.nextMonth,children:"\u25b6"})]}),(0,g.jsxs)("table",{className:"text-sm select-none",children:[(0,g.jsx)("thead",{children:(0,g.jsx)("tr",{className:"text-left text-gray-600 dark:text-gray-400",children:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"].map((e,t)=>(0,g.jsx)("th",{className:"px-2 py-1 ".concat(0===t?"text-red-600 dark:text-red-400":6===t?"text-blue-600 dark:text-blue-400":""),children:e},e))})}),(0,g.jsx)("tbody",{children:re.getCalendarGrid().map((e,t)=>(0,g.jsx)("tr",{className:"text-left",children:e.map((e,t)=>{const r="number"===typeof e&&0!==e&&!Number.isNaN(e);return(0,g.jsx)("td",{className:"px-2 py-1 ".concat(r?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 rounded":""),onClick:()=>{r&&re.pickDate(e)},children:r?e:""},t)})},t))})]})]})]}),v14:!A&&(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"start-time",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\uc2dc\uc791 \uc2dc\uac04"}),(0,g.jsx)("input",{id:"start-time",name:"startTime",autoComplete:"off",type:"time",value:k,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),v15:(0,g.jsxs)("div",{className:"relative inline-block w-full",ref:le,children:[(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)("input",{id:"end-date",name:"endDate",autoComplete:"off",type:"text",value:w,onChange:e=>N(e.target.value),placeholder:"YYYY-MM-DD",inputMode:"numeric",className:"block w-full border border-gray-200 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500",onFocus:()=>ae.setOpen(!0)}),(0,g.jsx)("button",{type:"button",className:"px-2 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",onClick:()=>ae.setOpen(e=>!e),"aria-label":"\ub2ec\ub825 \uc5f4\uae30",children:"\ud83d\udcc5"})]}),ae.open&&(0,g.jsxs)("div",{className:"absolute z-50 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg mt-2 p-3",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,g.jsx)("button",{type:"button",className:"px-2 py-1 text-sm border dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:ae.prevMonth,children:"\u25c0"}),(0,g.jsxs)("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[ae.month.getFullYear(),"\ub144 ",ae.month.getMonth()+1,"\uc6d4"]}),(0,g.jsx)("button",{type:"button",className:"px-2 py-1 text-sm border dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:ae.nextMonth,children:"\u25b6"})]}),(0,g.jsxs)("table",{className:"text-sm select-none",children:[(0,g.jsx)("thead",{children:(0,g.jsx)("tr",{className:"text-left text-gray-600 dark:text-gray-400",children:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"].map((e,t)=>(0,g.jsx)("th",{className:"px-2 py-1 ".concat(0===t?"text-red-600 dark:text-red-400":6===t?"text-blue-600 dark:text-blue-400":""),children:e},e))})}),(0,g.jsx)("tbody",{children:ae.getCalendarGrid().map((e,t)=>(0,g.jsx)("tr",{className:"text-left",children:e.map((e,t)=>{const r="number"===typeof e&&0!==e&&!Number.isNaN(e);return(0,g.jsx)("td",{className:"px-2 py-1 ".concat(r?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 rounded":""),onClick:()=>{r&&ae.pickDate(e)},children:r?e:""},t)})},t))})]})]})]}),v16:!A&&(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"end-time",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\uc885\ub8cc \uc2dc\uac04"}),(0,g.jsx)("input",{id:"end-time",name:"endTime",autoComplete:"off",type:"time",value:C,onChange:e=>_(e.target.value),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),v17:R,v18:e=>I(e.target.value?Number(e.target.value):""),v19:l.map(e=>(0,g.jsx)("option",{value:e.id,children:e.name},e.id)),v20:O,v21:e=>G(e.target.value),v22:P,v23:e=>B(e.target.value),v24:W,v25:e=>U(e.target.value),v26:Z,v27:e=>z(e.target.checked),v28:Z&&(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"reminder-minutes",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\uc54c\ub9bc \uc2dc\uac04"}),(0,g.jsxs)("select",{id:"reminder-minutes",name:"reminderMinutesBefore",autoComplete:"off",value:H,onChange:e=>q(Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,g.jsx)("option",{value:15,children:"15\ubd84 \uc804"}),(0,g.jsx)("option",{value:30,children:"30\ubd84 \uc804"}),(0,g.jsx)("option",{value:60,children:"1\uc2dc\uac04 \uc804"}),(0,g.jsx)("option",{value:120,children:"2\uc2dc\uac04 \uc804"}),(0,g.jsx)("option",{value:1440,children:"1\uc77c \uc804"})]})]}),v29:K,v30:e=>V(e.target.checked),v31:K&&(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"recurrence-frequency",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\ubc18\ubcf5 \uc720\ud615"}),(0,g.jsxs)("select",{id:"recurrence-frequency",name:"recurrenceFrequency",autoComplete:"off",value:Q,onChange:e=>J(e.target.value),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,g.jsx)("option",{value:"daily",children:"\ub9e4\uc77c"}),(0,g.jsx)("option",{value:"weekly",children:"\ub9e4\uc8fc"}),(0,g.jsx)("option",{value:"monthly",children:"\ub9e4\uc6d4"}),(0,g.jsx)("option",{value:"yearly",children:"\ub9e4\ub144"})]})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\uac04\uaca9"}),(0,g.jsx)("input",{type:"number",min:"1",max:"365",value:X,onChange:e=>$(Number(e.target.value)),className:"w-full px-3 py-2 border border-gray-200 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),"weekly"===Q&&(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc694\uc77c \uc120\ud0dd"}),(0,g.jsx)("div",{className:"flex flex-wrap gap-2",children:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"].map((e,t)=>(0,g.jsx)("button",{type:"button",onClick:()=>{oe.includes(t)?ie(oe.filter(e=>e!==t)):ie([...oe,t])},className:"px-3 py-1 rounded-md text-sm ".concat(oe.includes(t)?"bg-blue-600 text-white dark:bg-blue-500":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300"),children:e},t))})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"recurrence-end-date",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"\ubc18\ubcf5 \uc885\ub8cc\uc77c (\uc120\ud0dd)"}),(0,g.jsxs)("div",{className:"relative inline-block w-full",ref:de,children:[(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)("input",{id:"recurrence-end-date",name:"recurrenceEndDate",autoComplete:"off",type:"text",value:ee,onChange:e=>te(e.target.value),placeholder:"YYYY-MM-DD",inputMode:"numeric",className:"block w-full border border-gray-200 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500",onFocus:()=>se.setOpen(!0)}),(0,g.jsx)("button",{type:"button",className:"px-2 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200",onClick:()=>se.setOpen(e=>!e),"aria-label":"\ub2ec\ub825 \uc5f4\uae30",children:"\ud83d\udcc5"})]}),se.open&&(0,g.jsxs)("div",{className:"absolute z-50 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg mt-2 p-3",children:[(0,g.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,g.jsx)("button",{type:"button",className:"px-2 py-1 text-sm border dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:se.prevMonth,children:"\u25c0"}),(0,g.jsxs)("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[se.month.getFullYear(),"\ub144 ",se.month.getMonth()+1,"\uc6d4"]}),(0,g.jsx)("button",{type:"button",className:"px-2 py-1 text-sm border dark:border-gray-600 rounded text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",onClick:se.nextMonth,children:"\u25b6"})]}),(0,g.jsxs)("table",{className:"text-sm select-none",children:[(0,g.jsx)("thead",{children:(0,g.jsx)("tr",{className:"text-left text-gray-600 dark:text-gray-400",children:["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"].map((e,t)=>(0,g.jsx)("th",{className:"px-2 py-1 ".concat(0===t?"text-red-600 dark:text-red-400":6===t?"text-blue-600 dark:text-blue-400":""),children:e},e))})}),(0,g.jsx)("tbody",{children:se.getCalendarGrid().map((e,t)=>(0,g.jsx)("tr",{className:"text-left",children:e.map((e,t)=>{const r="number"===typeof e&&0!==e&&!Number.isNaN(e);return(0,g.jsx)("td",{className:"px-2 py-1 ".concat(r?"cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 rounded":""),onClick:()=>{r&&se.pickDate(e)},children:r?e:""},t)})},t))})]})]})]})]})]}),v32:async e=>{const r=e.target.files;if(r&&0!==r.length){ye(!0);try{if(!d.supabase)return void alert("\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0 \uc624\ub958");const e=await d.supabase.auth.getUser();if(!e.data.user)return void alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.");const a=[];for(let s=0;s<r.length;s++){const n=r[s],l=await i(n,e.data.user.id,(null===t||void 0===t?void 0:t.id)||0);l.success&&l.url&&l.path?a.push({name:n.name,url:l.url,type:n.type}):alert("\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc2e4\ud328: ".concat(n.name,"\n").concat(l.error))}me([...he,...a])}catch(a){console.error("File upload error:",a),alert("\ud30c\uc77c \uc5c5\ub85c\ub4dc \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{ye(!1),e.target.value=""}}},v33:be,v34:"inline-flex items-center px-4 py-2 border border-gray-200 dark:border-gray-600 rounded-md text-sm font-medium cursor-pointer\n                  ".concat(be?"bg-gray-100 dark:bg-gray-700 text-gray-400 cursor-not-allowed":"bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700"),v35:be?"\uc5c5\ub85c\ub4dc \uc911...":"\ud30c\uc77c \uc120\ud0dd",v36:he.length>0&&(0,g.jsx)("div",{className:"space-y-2",children:he.map((e,t)=>(0,g.jsxs)("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-700 rounded-md",children:[(0,g.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,g.jsx)("span",{className:"text-xl",children:c(e.name)}),(0,g.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,g.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:e.name}),(0,g.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.type})]})]}),(0,g.jsxs)("div",{className:"flex items-center gap-2",children:[(0,g.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-300 text-sm",children:"\ub2e4\uc6b4\ub85c\ub4dc"}),(0,g.jsx)("button",{type:"button",onClick:()=>(async e=>{me(he.filter((t,r)=>r!==e))})(t),className:"text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300 text-sm",children:"\uc0ad\uc81c"})]})]},t))}),v37:r,v38:t?"\uc218\uc815":"\ucd94\uac00"})},A=(0,a.FZ)(e=>(0,g.jsxs)("div",{className:"mb-4",children:[(0,g.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,g.jsxs)("button",{onClick:e.v0,className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700",children:[(0,g.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),"\ud544\ud130",e.v1]}),(0,g.jsxs)("div",{className:"flex-1 relative",children:[(0,g.jsx)("input",{id:"schedule-search",name:"schedule-search",type:"text",value:e.v2,onChange:e.v3,placeholder:"\uc77c\uc815 \uc81c\ubaa9\uc774\ub098 \uc124\uba85\uc73c\ub85c \uac80\uc0c9...",className:"w-full px-4 py-2 pl-10 bg-white dark:bg-gray-800 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,g.jsx)("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,g.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),e.v4]}),e.v5]}),{name:"ScheduleFilters_1",portals:["v1","v4","v5"]}),E=function(e){let{clients:t,onFilterChange:r}=e;const[a,n]=(0,s.useState)(!1),[d,o]=(0,s.useState)({scheduleType:[],status:[],clientId:null,searchText:""}),i=d.scheduleType.length+d.status.length+(d.clientId?1:0)+(d.searchText?1:0);return(0,g.jsx)(A,{v0:()=>n(!a),v1:i>0&&(0,g.jsx)("span",{className:"px-2 py-0.5 text-xs bg-blue-600 text-white rounded-full",children:i}),v2:d.searchText,v3:e=>(e=>{const t=(0,l.A)((0,l.A)({},d),{},{searchText:e});o(t),r(t)})(e.target.value),v4:i>0&&(0,g.jsx)("button",{onClick:()=>{const e={scheduleType:[],status:[],clientId:null,searchText:""};o(e),r(e)},className:"px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white",children:"\ucd08\uae30\ud654"}),v5:a&&(0,g.jsxs)("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 space-y-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc77c\uc815 \ud0c0\uc785"}),(0,g.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"construction",label:"\uacf5\uc0ac",icon:"\ud83c\udfd7\ufe0f"},{value:"consultation",label:"\uc0c1\ub2f4",icon:"\ud83d\udcac"},{value:"meeting",label:"\ubbf8\ud305",icon:"\ud83d\udc65"},{value:"other",label:"\uae30\ud0c0",icon:"\ud83d\udcdd"}].map(e=>(0,g.jsxs)("button",{onClick:()=>(e=>{const t=d.scheduleType.includes(e)?d.scheduleType.filter(t=>t!==e):[...d.scheduleType,e],a=(0,l.A)((0,l.A)({},d),{},{scheduleType:t});o(a),r(a)})(e.value),className:"px-3 py-1.5 rounded-lg text-sm transition-colors ".concat(d.scheduleType.includes(e.value)?"bg-blue-600 text-white dark:bg-blue-500":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[e.icon," ",e.label]},e.value))})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc0c1\ud0dc"}),(0,g.jsx)("div",{className:"flex flex-wrap gap-2",children:[{value:"scheduled",label:"\uc608\uc815",icon:"\ud83d\udcc5"},{value:"in_progress",label:"\uc9c4\ud589\uc911",icon:"\u23f3"},{value:"completed",label:"\uc644\ub8cc",icon:"\u2705"},{value:"cancelled",label:"\ucde8\uc18c",icon:"\u274c"}].map(e=>(0,g.jsxs)("button",{onClick:()=>(e=>{const t=d.status.includes(e)?d.status.filter(t=>t!==e):[...d.status,e],a=(0,l.A)((0,l.A)({},d),{},{status:t});o(a),r(a)})(e.value),className:"px-3 py-1.5 rounded-lg text-sm transition-colors ".concat(d.status.includes(e.value)?"bg-blue-600 text-white dark:bg-blue-500":"bg-gray-100 text-gray-700 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[e.icon," ",e.label]},e.value))})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"schedule-client-filter",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uac74\ucd95\uc8fc"}),(0,g.jsxs)("select",{id:"schedule-client-filter",name:"schedule-client-filter",value:d.clientId||"",onChange:e=>(e=>{const t=e?isNaN(parseInt(e))?e:parseInt(e):null,a=(0,l.A)((0,l.A)({},d),{},{clientId:t});o(a),r(a)})(e.target.value),className:"w-full px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-300 dark:border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,g.jsx)("option",{value:"",children:"\uc804\uccb4 \uac74\ucd95\uc8fc"}),t.map(e=>(0,g.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]})})},R={NODE_ENV:"production",PUBLIC_URL:"https://bluesky78060.github.io/Architecture-Management",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ASSET_VER:"1761118966",REACT_APP_USE_HASH_ROUTER:"1"}.REACT_APP_GOOGLE_CLIENT_ID||"",I={NODE_ENV:"production",PUBLIC_URL:"https://bluesky78060.github.io/Architecture-Management",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ASSET_VER:"1761118966",REACT_APP_USE_HASH_ROUTER:"1"}.REACT_APP_GOOGLE_API_KEY||"",O=["https://www.googleapis.com/discovery/v1/apis/calendar/v3/rest"];console.log("\ud83d\udd11 Google Calendar \ud658\uacbd \ubcc0\uc218 \ud655\uc778:"),console.log("  CLIENT_ID:",R?"\u2705 \uc124\uc815\ub428":"\u274c \uc5c6\uc74c"),console.log("  API_KEY:",I?"\u2705 \uc124\uc815\ub428":"\u274c \uc5c6\uc74c");let G=!1,Y=null;async function L(){if(console.log("\ud83d\udd10 Google Calendar \uc778\uc99d \uc2dc\uc791..."),!R||!I){const e=[];return R||e.push("REACT_APP_GOOGLE_CLIENT_ID"),I||e.push("REACT_APP_GOOGLE_API_KEY"),console.error("\u274c \ud658\uacbd \ubcc0\uc218 \ub204\ub77d:",e.join(", ")),alert("\ud658\uacbd \ubcc0\uc218\uac00 \uc124\uc815\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4:\n".concat(e.join("\n"),"\n\n.env \ud30c\uc77c\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694.")),!1}if(!G){console.log("\u23f3 Google API \ucd08\uae30\ud654 \uc911...");if(!await async function(){return!!G||new Promise(e=>{const t=document.createElement("script");t.src="https://apis.google.com/js/api.js",t.async=!0,t.defer=!0,t.onload=()=>{window.gapi.load("client",async()=>{try{await window.gapi.client.init({apiKey:I,discoveryDocs:O}),G=!0;const t=document.createElement("script");t.src="https://accounts.google.com/gsi/client",t.async=!0,t.defer=!0,t.onload=()=>{Y=window.google.accounts.oauth2.initTokenClient({client_id:R,scope:"https://www.googleapis.com/auth/calendar",callback:""}),e(!0)},document.head.appendChild(t)}catch(t){console.error("Google API \ucd08\uae30\ud654 \uc2e4\ud328:",t),e(!1)}})},document.head.appendChild(t)})}())return console.error("\u274c Google API \ucd08\uae30\ud654 \uc2e4\ud328"),alert("Google API \ucd08\uae30\ud654\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.\n\ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694."),!1;console.log("\u2705 Google API \ucd08\uae30\ud654 \uc644\ub8cc")}return Y?new Promise(e=>{if(Y.callback=t=>{if(void 0!==t.error)return console.error("\u274c \uc778\uc99d \uc2e4\ud328:",t),alert("Google \uacc4\uc815 \uc5f0\uacb0 \uc2e4\ud328:\n".concat(t.error,"\n\n").concat(t.error_description||"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958")),void e(!1);console.log("\u2705 \uc778\uc99d \uc131\uacf5"),e(!0)},null!==window.gapi.client.getToken())return console.log("\u2705 \uc774\ubbf8 \uc778\uc99d\ub428"),void e(!0);console.log("\ud83d\udd13 OAuth \ud31d\uc5c5 \uc5f4\uae30...");try{Y.requestAccessToken({prompt:""})}catch(t){console.error("\u274c OAuth \uc694\uccad \uc2e4\ud328:",t),alert("OAuth \uc694\uccad \uc2e4\ud328:\n".concat(t.message||"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958","\n\n\ud31d\uc5c5\uc774 \ucc28\ub2e8\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\ud574\uc8fc\uc138\uc694.")),e(!1)}}):(console.error("\u274c tokenClient\uac00 \ucd08\uae30\ud654\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4"),alert("Google OAuth \ud074\ub77c\uc774\uc5b8\ud2b8 \ucd08\uae30\ud654\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.\nClient ID\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694."),!1)}function P(){return G&&null!==window.gapi.client.getToken()}function B(e){const t={summary:e.title,description:e.description||"",location:e.location||""};if(e.allDay)t.start={date:e.startDate},t.end={date:e.endDate||e.startDate};else{const r="".concat(e.startDate,"T").concat(e.startTime||"00:00:00"),a=e.endDate&&e.endTime?"".concat(e.endDate,"T").concat(e.endTime):"".concat(e.startDate,"T").concat(e.endTime||"23:59:59");t.start={dateTime:r,timeZone:"Asia/Seoul"},t.end={dateTime:a,timeZone:"Asia/Seoul"}}if(e.isRecurring&&e.recurrenceRule){const{frequency:r,interval:a,endDate:s,daysOfWeek:n}=e.recurrenceRule;let l="RRULE:FREQ=".concat(r.toUpperCase(),";INTERVAL=").concat(a);if(s&&(l+=";UNTIL=".concat(s.replace(/-/g,""))),"weekly"===r&&n&&n.length>0){const e=["SU","MO","TU","WE","TH","FR","SA"],t=n.map(t=>e[t]).join(",");l+=";BYDAY=".concat(t)}t.recurrence=[l]}return e.reminderEnabled&&e.reminderMinutesBefore&&(t.reminders={useDefault:!1,overrides:[{method:"popup",minutes:e.reminderMinutesBefore},{method:"email",minutes:e.reminderMinutesBefore}]}),t}function W(e){var t,r,a;const s=!!e.start.date;return{id:0,userId:"",title:e.summary||"\uc81c\ubaa9 \uc5c6\uc74c",description:e.description||void 0,scheduleType:"other",startDate:s?e.start.date:e.start.dateTime.split("T")[0],startTime:s?void 0:e.start.dateTime.split("T")[1].substring(0,5),endDate:s?e.end.date:(null===(t=e.end)||void 0===t||null===(r=t.dateTime)||void 0===r?void 0:r.split("T")[0])||void 0,endTime:s?void 0:null!==(a=e.end)&&void 0!==a&&a.dateTime?e.end.dateTime.split("T")[1].substring(0,5):void 0,allDay:s,status:"scheduled",priority:"normal",location:e.location||void 0,reminderEnabled:!1,isRecurring:!!e.recurrence,createdAt:e.created||(new Date).toISOString(),updatedAt:e.updated||(new Date).toISOString()}}async function U(e,t){const r={imported:[],exported:{success:0,failed:0}};if(t.importFromGoogle)try{r.imported=await async function(e,t){if(!P())throw new Error("Google Calendar \uc778\uc99d\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.");try{return((await window.gapi.client.calendar.events.list({calendarId:"primary",timeMin:e?"".concat(e,"T00:00:00Z"):(new Date).toISOString(),timeMax:t?"".concat(t,"T23:59:59Z"):void 0,showDeleted:!1,singleEvents:!0,maxResults:100,orderBy:"startTime"})).result.items||[]).map(W)}catch(r){throw console.error("\uc77c\uc815 \uac00\uc838\uc624\uae30 \uc2e4\ud328:",r),r}}(t.startDate,t.endDate)}catch(a){console.error("\uac00\uc838\uc624\uae30 \uc2e4\ud328:",a)}if(t.exportToGoogle)try{r.exported=await async function(e){if(!P())throw new Error("Google Calendar \uc778\uc99d\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.");let t=0,r=0;for(const s of e)try{const e=B(s);await window.gapi.client.calendar.events.insert({calendarId:"primary",resource:e}),t++}catch(a){console.error("\uc77c\uc815 \ub0b4\ubcf4\ub0b4\uae30 \uc2e4\ud328:",s.title,a),r++}return{success:t,failed:r}}(e)}catch(a){console.error("\ub0b4\ubcf4\ub0b4\uae30 \uc2e4\ud328:",a)}return r}const Z=(0,a.FZ)(e=>(0,g.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-lg",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-200 dark:border-gray-700",children:[(0,g.jsx)("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"\ud83d\udcc5 Google Calendar \ub3d9\uae30\ud654"}),(0,g.jsx)("button",{onClick:e.v0,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:"\u2715"})]}),(0,g.jsxs)("div",{className:"p-6 space-y-6",children:[(0,g.jsx)("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4",children:(0,g.jsxs)("div",{className:"flex items-center justify-between",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"\uc5f0\uacb0 \uc0c1\ud0dc"}),(0,g.jsx)("p",{className:e.v1,children:e.v2})]}),e.v3]})}),e.v4]}),(0,g.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700",children:[(0,g.jsx)("button",{onClick:e.v5,className:"px-4 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:"\ub2eb\uae30"}),e.v6]})]})}),{name:"GoogleCalendarSync_1",portals:["v2","v3","v4","v6"]}),z=function(e){let{onClose:t}=e;const{schedules:r,saveSchedule:a}=(0,n.n)(),[d,o]=(0,s.useState)(P()),[i,c]=(0,s.useState)(!1),[x,u]=(0,s.useState)(null),[h,m]=(0,s.useState)({importFromGoogle:!0,exportToGoogle:!0,startDate:"",endDate:""});return(0,g.jsx)(Z,{v0:t,v1:"text-sm ".concat(d?"text-green-600 dark:text-green-400":"text-gray-500 dark:text-gray-400"),v2:d?"\u2705 \uc5f0\uacb0\ub428":"\u274c \uc5f0\uacb0 \uc548\ub428",v3:d?(0,g.jsx)("button",{onClick:()=>{!function(){const e=window.gapi.client.getToken();null!==e&&(window.google.accounts.oauth2.revoke(e.access_token,()=>{console.log("Google Calendar \uc5f0\uacb0 \ud574\uc81c \uc644\ub8cc")}),window.gapi.client.setToken(null))}(),o(!1),alert("Google Calendar \uc5f0\uacb0\uc774 \ud574\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")},className:"px-4 py-2 text-sm text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:"\uc5f0\uacb0 \ud574\uc81c"}):(0,g.jsx)("button",{onClick:async()=>{try{await L()?(o(!0),alert("Google \uacc4\uc815 \uc5f0\uacb0 \uc644\ub8cc!")):alert("Google \uacc4\uc815 \uc5f0\uacb0 \uc2e4\ud328")}catch(e){console.error("\uc778\uc99d \uc2e4\ud328:",e),alert("\uc778\uc99d \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}},className:"px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Google \uc5f0\uacb0"}),v4:d&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"\ub3d9\uae30\ud654 \uc635\uc158"}),(0,g.jsxs)("label",{className:"flex items-center gap-2",children:[(0,g.jsx)("input",{type:"checkbox",checked:h.importFromGoogle,onChange:e=>m((0,l.A)((0,l.A)({},h),{},{importFromGoogle:e.target.checked})),className:"w-4 h-4 rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-blue-600 focus:ring-blue-500 dark:focus:ring-blue-400"}),(0,g.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Google Calendar \u2192 \uc774 \uc571\uc73c\ub85c \uac00\uc838\uc624\uae30"})]}),(0,g.jsxs)("label",{className:"flex items-center gap-2",children:[(0,g.jsx)("input",{type:"checkbox",checked:h.exportToGoogle,onChange:e=>m((0,l.A)((0,l.A)({},h),{},{exportToGoogle:e.target.checked})),className:"w-4 h-4 rounded border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-blue-600 focus:ring-blue-500 dark:focus:ring-blue-400"}),(0,g.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"\uc774 \uc571 \u2192 Google Calendar\ub85c \ub0b4\ubcf4\ub0b4\uae30"})]})]}),h.importFromGoogle&&(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"\uac00\uc838\uc62c \ub0a0\uc9dc \ubc94\uc704 (\uc120\ud0dd\uc0ac\ud56d)"}),(0,g.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"\uc2dc\uc791\uc77c"}),(0,g.jsx)("input",{type:"date",value:h.startDate,onChange:e=>m((0,l.A)((0,l.A)({},h),{},{startDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{className:"block text-xs text-gray-500 dark:text-gray-400 mb-1",children:"\uc885\ub8cc\uc77c"}),(0,g.jsx)("input",{type:"date",value:h.endDate,onChange:e=>m((0,l.A)((0,l.A)({},h),{},{endDate:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]})]}),(0,g.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"* \ub0a0\uc9dc\ub97c \uc9c0\uc815\ud558\uc9c0 \uc54a\uc73c\uba74 \uc624\ub298\ubd80\ud130 \ucd5c\ub300 100\uac1c\uc758 \uc77c\uc815\uc744 \uac00\uc838\uc635\ub2c8\ub2e4."})]}),x&&(0,g.jsxs)("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:[(0,g.jsx)("p",{className:"text-sm font-medium text-green-800 dark:text-green-400 mb-2",children:"\u2705 \ub3d9\uae30\ud654 \uc644\ub8cc"}),(0,g.jsxs)("ul",{className:"text-sm text-green-700 dark:text-green-300 space-y-1",children:[(0,g.jsxs)("li",{children:["\u2022 \uac00\uc838\uc628 \uc77c\uc815: ",x.imported,"\uac1c"]}),(0,g.jsxs)("li",{children:["\u2022 \ub0b4\ubcf4\ub0b8 \uc77c\uc815: ",x.exported,"\uac1c"]}),x.failed>0&&(0,g.jsxs)("li",{className:"text-red-600 dark:text-red-400",children:["\u2022 \uc2e4\ud328: ",x.failed,"\uac1c"]})]})]}),(0,g.jsxs)("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:[(0,g.jsx)("p",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-400 mb-2",children:"\u26a0\ufe0f \uc8fc\uc758\uc0ac\ud56d"}),(0,g.jsxs)("ul",{className:"text-xs text-yellow-700 dark:text-yellow-300 space-y-1",children:[(0,g.jsx)("li",{children:"\u2022 \uc911\ubcf5 \uc77c\uc815\uc774 \uc0dd\uc131\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),(0,g.jsx)("li",{children:"\u2022 \ub0b4\ubcf4\ub0b4\uae30\ub294 \ubaa8\ub4e0 \uc77c\uc815\uc744 Google Calendar\uc5d0 \uc0c8\ub85c \uc0dd\uc131\ud569\ub2c8\ub2e4."}),(0,g.jsx)("li",{children:"\u2022 \uac00\uc838\uc624\uae30\ub294 \uc9c0\uc815\ub41c \ub0a0\uc9dc \ubc94\uc704\uc758 \uc77c\uc815\ub9cc \uac00\uc838\uc635\ub2c8\ub2e4."})]})]})]}),v5:t,v6:d&&(0,g.jsx)("button",{onClick:async()=>{if(d){c(!0),u(null);try{const e=await U(r,h);if(e.imported.length>0)for(const t of e.imported)await a(t);u({imported:e.imported.length,exported:e.exported.success,failed:e.exported.failed}),alert("\ub3d9\uae30\ud654 \uc644\ub8cc!\n\uac00\uc838\uc624\uae30: ".concat(e.imported.length,"\uac1c\n\ub0b4\ubcf4\ub0b4\uae30: ").concat(e.exported.success,"\uac1c\n\uc2e4\ud328: ").concat(e.exported.failed,"\uac1c"))}catch(e){console.error("\ub3d9\uae30\ud654 \uc2e4\ud328:",e),alert("\ub3d9\uae30\ud654 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4: ".concat(e.message))}finally{c(!1)}}else alert("\uba3c\uc800 Google \uacc4\uc815\uc744 \uc5f0\uacb0\ud574\uc8fc\uc138\uc694.")},disabled:i||!h.importFromGoogle&&!h.exportToGoogle,className:"px-4 py-2 rounded-lg ".concat(i||!h.importFromGoogle&&!h.exportToGoogle?"bg-gray-300 dark:bg-gray-600 text-gray-500 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"),children:i?"\ub3d9\uae30\ud654 \uc911...":"\ub3d9\uae30\ud654 \uc2dc\uc791"})})},H=(0,a.FZ)(e=>(0,g.jsxs)("div",{className:"p-6 bg-gray-50 dark:bg-gray-900 min-h-screen",children:[(0,g.jsxs)("div",{className:"mb-6",children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,g.jsx)("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"\uc77c\uc815 \uad00\ub9ac"}),(0,g.jsxs)("div",{className:"flex gap-2",children:[(0,g.jsx)("button",{onClick:e.v0,className:"px-4 py-2 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-300 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600",children:"\ud83d\udcc5 Google Calendar"}),(0,g.jsx)("button",{onClick:e.v1,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600",children:"+ \uc77c\uc815 \ucd94\uac00"})]})]}),(0,g.jsxs)("div",{className:"flex gap-2",children:[(0,g.jsx)("button",{onClick:e.v2,className:e.v3,children:"\ub9ac\uc2a4\ud2b8"}),(0,g.jsx)("button",{onClick:e.v4,className:e.v5,children:"\uc77c\uac04"}),(0,g.jsx)("button",{onClick:e.v6,className:e.v7,children:"\uc8fc\uac04"}),(0,g.jsx)("button",{onClick:e.v8,className:e.v9,children:"\uc6d4\uac04"})]})]}),e.v10,e.v11,e.v12,e.v13,e.v14,e.v15,e.v16]}),{name:"Schedules_1",portals:["v10","v11","v12","v13","v14","v15","v16"]}),q=function(){const{schedules:e,clients:t}=(0,n.n)(),[r,a]=(0,s.useState)("list"),[l,d]=(0,s.useState)(new Date),[o,i]=(0,s.useState)(!1),[c,x]=(0,s.useState)(!1),[u,h]=(0,s.useState)(null),[b,p]=(0,s.useState)({scheduleType:[],status:[],clientId:null,searchText:""});(0,s.useEffect)(()=>{console.log("\u2705 [Schedules] Component mounted")},[]);const k=e=>{h(e),i(!0)},w=(0,s.useMemo)(()=>e.filter(e=>{if(b.scheduleType.length>0&&!b.scheduleType.includes(e.scheduleType))return!1;if(b.status.length>0&&!b.status.includes(e.status))return!1;if(b.clientId&&e.clientId!==b.clientId)return!1;if(b.searchText){var t,r,a;const s=b.searchText.toLowerCase(),n=e.title.toLowerCase().includes(s),l=null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(s),d=null===(r=e.clientName)||void 0===r?void 0:r.toLowerCase().includes(s),o=null===(a=e.projectName)||void 0===a?void 0:a.toLowerCase().includes(s);if(!n&&!l&&!d&&!o)return!1}return!0}),[e,b]),N=(0,s.useMemo)(()=>{const e=new Date(l);e.setMonth(e.getMonth()-2);const t=new Date(l);t.setMonth(t.getMonth()+2);const r=e=>{const t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),a=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(r,"-").concat(a)};return function(e,t,r){const a=[];return e.forEach(e=>{if(e.isRecurring){const s=j(e,t,r);a.push(...s)}else e.startDate>=t&&e.startDate<=r&&a.push(e)}),a}(w,r(e),r(t))},[w,l]),D=(0,s.useMemo)(()=>t.map(e=>({id:e.id,name:e.name})),[t]);return(0,g.jsx)(H,{v0:()=>x(!0),v1:()=>{h(null),i(!0)},v2:()=>a("list"),v3:"px-4 py-2 rounded-lg ".concat("list"===r?"bg-blue-600 text-white dark:bg-blue-500":"bg-white text-gray-700 dark:bg-gray-800 dark:text-gray-300"),v4:()=>a("day"),v5:"px-4 py-2 rounded-lg ".concat("day"===r?"bg-blue-600 text-white dark:bg-blue-500":"bg-white text-gray-700 dark:bg-gray-800 dark:text-gray-300"),v6:()=>a("week"),v7:"px-4 py-2 rounded-lg ".concat("week"===r?"bg-blue-600 text-white dark:bg-blue-500":"bg-white text-gray-700 dark:bg-gray-800 dark:text-gray-300"),v8:()=>a("calendar"),v9:"px-4 py-2 rounded-lg ".concat("calendar"===r?"bg-blue-600 text-white dark:bg-blue-500":"bg-white text-gray-700 dark:bg-gray-800 dark:text-gray-300"),v10:(0,g.jsx)(E,{clients:D,onFilterChange:p}),v11:"list"===r&&(0,g.jsx)(m,{schedules:w,onEdit:e=>{h(e),i(!0)}}),v12:"day"===r&&(0,g.jsx)(f,{schedules:N,currentDate:l,onDateChange:d,onScheduleClick:k}),v13:"week"===r&&(0,g.jsx)(v,{schedules:N,currentDate:l,onDateChange:d,onScheduleClick:k}),v14:"calendar"===r&&(0,g.jsx)(y,{schedules:N,currentDate:l,onDateChange:d,onScheduleClick:k,onDateClick:e=>{h(null),i(!0)}}),v15:o&&(0,g.jsx)(_,{schedule:u,onClose:()=>{i(!1),h(null)}}),v16:c&&(0,g.jsx)(z,{onClose:()=>x(!1)})})}},4491:(e,t,r)=>{r.d(t,{_:()=>s});var a=r(9198);function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{value:t,onChange:r,closeOnSelect:s=!0}=e,[n,l]=(0,a.useState)(!1),[d,o]=(0,a.useState)(()=>new Date),i=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(null==t||""===t)return;const e=t.split("-").map(e=>parseInt(e,10)),r=e[0],a=e[1];if(Number.isFinite(r)&&Number.isFinite(a)){const e=1;o(new Date(r,a-e,e))}},[t]),(0,a.useEffect)(()=>{const e=e=>{const t=i.current;null===t||t.contains(e.target)||l(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const c=e=>String(e).padStart(2,"0");return{open:n,setOpen:l,month:d,setMonth:o,prevMonth:()=>o(e=>new Date(e.getFullYear(),e.getMonth()-1,1)),nextMonth:()=>o(e=>new Date(e.getFullYear(),e.getMonth()+1,1)),pickDate:e=>{if(null==e||!Number.isFinite(e)||e<=0)return;const t=d.getFullYear(),a=d.getMonth()+1,n="".concat(t,"-").concat(c(a),"-").concat(c(e));null===r||void 0===r||r(n),s&&l(!1)},getCalendarGrid:()=>{const e=new Date(d.getFullYear(),d.getMonth(),1).getDay(),t=new Date(d.getFullYear(),d.getMonth()+1,0).getDate(),r=[];for(let s=0;s<e;s++)r.push(null);for(let s=1;s<=t;s++)r.push(s);const a=[];for(let s=0;s<r.length;s+=7)a.push(r.slice(s,s+7));return a},containerRef:i}}},5826:(e,t,r)=>{r.d(t,{n:()=>a.n});var a=r(8026)}}]);
//# sourceMappingURL=703.e9c7b081.chunk.js.map