"use strict";(self.webpackChunkconstruction_management_frontend=self.webpackChunkconstruction_management_frontend||[]).push([[217,288],{217:(e,r,t)=>{t.r(r),t.d(r,{default:()=>m});var a=t(2555),n=t(6601),s=t(9198),l=t(5826),d=t(1288),i=t(6520),c=t(5582);const o=(0,n.FZ)(e=>(0,c.jsxs)("slot",{children:[(0,c.jsxs)("div",{className:"p-6",children:[(0,c.jsxs)("div",{className:"mb-8",children:[(0,c.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2",children:"\ud658\uacbd\uc124\uc815"}),(0,c.jsx)("p",{className:"text-gray-600 dark:text-gray-300",children:"\uac74\ucd95\uc5c5\uccb4 \uc815\ubcf4\uc640 \uc2dc\uc2a4\ud15c \uc124\uc815\uc744 \uad00\ub9ac\ud558\uc138\uc694"})]}),(0,c.jsxs)("div",{className:"flex flex-col lg:flex-row lg:flex-wrap gap-8 mb-8",children:[(0,c.jsxs)("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-lg shadow flex flex-col",children:[(0,c.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-600 flex justify-between items-center bg-gray-50 dark:bg-gray-700",children:[(0,c.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"\uc5c5\uccb4 \uc815\ubcf4 \uad00\ub9ac"}),e.v0]}),(0,c.jsxs)("div",{className:"p-6 flex-1",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,c.jsx)("div",{children:e.v1}),(0,c.jsx)("div",{children:e.v2})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,c.jsx)("div",{children:e.v3}),(0,c.jsx)("div",{children:e.v4})]}),(0,c.jsx)("div",{children:e.v5}),(0,c.jsx)("div",{children:e.v6}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,c.jsx)("div",{children:e.v7}),(0,c.jsx)("div",{children:e.v8})]})]}),(0,c.jsx)("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:(0,c.jsx)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:"\uc5ec\uae30\uc11c \uc124\uc815\ud55c \uc815\ubcf4\ub294 \uc0dd\uc131\ub418\ub294 \ubaa8\ub4e0 \uccad\uad6c\uc11c/\uacac\uc801\uc11c\uc5d0 \uc790\ub3d9\uc73c\ub85c \ud3ec\ud568\ub429\ub2c8\ub2e4. \uc815\ud655\ud55c \uc815\ubcf4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694."})})]})]}),(0,c.jsxs)("div",{className:"flex-1 bg-white dark:bg-gray-800 rounded-lg shadow flex flex-col",children:[(0,c.jsx)("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-600 bg-gray-50 dark:bg-gray-700",children:(0,c.jsx)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100",children:"\uc2dc\uc2a4\ud15c \uc124\uc815"})}),(0,c.jsxs)("div",{className:"p-6 space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"new-unit-input",className:"block font-medium text-gray-900 dark:text-gray-100 mb-2",children:"\ub2e8\uc704 \uad00\ub9ac"}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)("input",{id:"new-unit-input",name:"newUnit",type:"text",value:e.v9,onChange:e.v10,placeholder:"\uc0c8 \ub2e8\uc704 \uc785\ub825",className:"border border-gray-300 dark:border-gray-600 rounded px-3 py-2 text-sm flex-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),(0,c.jsx)("button",{onClick:e.v11,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2 rounded text-sm",children:"\ucd94\uac00"})]}),(0,c.jsx)("div",{className:"mt-2 flex gap-2 flex-wrap",children:e.v12})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("label",{htmlFor:"new-category-input",className:"block font-medium text-gray-900 dark:text-gray-100 mb-2",children:"\uce74\ud14c\uace0\ub9ac \uad00\ub9ac"}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)("input",{id:"new-category-input",name:"newCategory",type:"text",value:e.v13,onChange:e.v14,placeholder:"\uc0c8 \uce74\ud14c\uace0\ub9ac \uc785\ub825",className:"border border-gray-300 dark:border-gray-600 rounded px-3 py-2 text-sm flex-1 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"}),(0,c.jsx)("button",{onClick:e.v15,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2 rounded text-sm",children:"\ucd94\uac00"})]}),(0,c.jsx)("div",{className:"mt-2 flex gap-2 flex-wrap",children:e.v16})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-2",children:"\ub3c4\uc7a5 \uc774\ubbf8\uc9c0"}),e.v17,(0,c.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,c.jsx)("button",{onClick:e.v18,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors",children:"\ud83d\udcf7 \uc774\ubbf8\uc9c0 \uc120\ud0dd"}),e.v19]}),(0,c.jsx)("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-4 bg-gray-50 dark:bg-gray-700",children:e.v20}),(0,c.jsxs)("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["\ud83d\udca1 ",(0,c.jsx)("strong",{children:"\ud301:"})," \ud22c\uba85 \ubc30\uacbd\uc758 PNG \ud30c\uc77c\uc744 \uc0ac\uc6a9\ud558\uba74 \ub354 \uae54\ub054\ud558\uac8c \ud45c\uc2dc\ub429\ub2c8\ub2e4"]})]})]})]})]})]}),e.v21,e.v22,e.v23]}),{name:"CompanyInfo_1",portals:["v0","v1","v2","v3","v4","v5","v6","v7","v8","v12","v16","v17","v19","v20","v21","v22","v23"]}),m=function(){var e,r,t,n,m,x,g,u,y,b;const{companyInfo:h,setCompanyInfo:v,units:p,setUnits:j,categories:k,setCategories:f,stampImage:w,setStampImage:N}=(0,l.n)(),[F,C]=(0,s.useState)(!1),[S,P]=(0,s.useState)((0,a.A)({},h)),[A,D]=(0,s.useState)(""),[I,H]=(0,s.useState)(""),B=(0,s.useRef)(null),[T,q]=(0,s.useState)(null),[G,L]=(0,s.useState)(null),[U,_]=(0,s.useState)(!1),M=e=>{const{name:r,value:t}=e.target;P(e=>(0,a.A)((0,a.A)({},e),{},{[r]:t}))};return(0,c.jsx)(o,{v0:F?(0,c.jsxs)("div",{className:"space-x-2",children:[(0,c.jsx)("button",{onClick:()=>{v(S),C(!1),alert("\uac74\ucd95\uc5c5\uccb4 \uc815\ubcf4\uac00 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")},className:"bg-green-600 hover:bg-green-700 text-white text-sm font-medium py-1.5 px-3 rounded",children:"\uc800\uc7a5"}),(0,c.jsx)("button",{onClick:()=>{P((0,a.A)({},h)),C(!1)},className:"bg-gray-500 hover:bg-gray-600 text-white text-sm font-medium py-1.5 px-3 rounded",children:"\ucde8\uc18c"})]}):(0,c.jsx)("button",{onClick:()=>C(!0),className:"bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium py-1.5 px-3 rounded",children:"\uc218\uc815"}),v1:F?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("label",{htmlFor:"company-name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc5c5\uccb4\uba85 *"}),(0,c.jsx)("input",{id:"company-name",type:"text",name:"name",value:S.name,onChange:M,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc5c5\uccb4\uba85 *"}),(0,c.jsx)("p",{className:"text-gray-900 dark:text-gray-100 py-2",children:h.name})]}),v2:F?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("label",{htmlFor:"company-business-number",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc0ac\uc5c5\uc790\ub4f1\ub85d\ubc88\ud638 *"}),(0,c.jsx)("input",{id:"company-business-number",type:"text",name:"businessNumber",value:null!==(e=S.businessNumber)&&void 0!==e?e:"",onChange:M,placeholder:"000-00-00000",className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc0ac\uc5c5\uc790\ub4f1\ub85d\ubc88\ud638 *"}),(0,c.jsx)("p",{className:"text-gray-900 dark:text-gray-100 py-2",children:h.businessNumber})]}),v3:F?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("label",{htmlFor:"company-representative",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\ub300\ud45c\uc790\uba85 *"}),(0,c.jsx)("input",{id:"company-representative",type:"text",name:"representative",value:null!==(r=S.representative)&&void 0!==r?r:"",onChange:M,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\ub300\ud45c\uc790\uba85 *"}),(0,c.jsx)("p",{className:"text-gray-900 dark:text-gray-100 py-2",children:h.representative})]}),v4:F?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("label",{htmlFor:"company-phone",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc804\ud654\ubc88\ud638 *"}),(0,c.jsx)("input",{id:"company-phone",type:"tel",name:"phone",value:null!==(t=S.phone)&&void 0!==t?t:"",onChange:M,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc804\ud654\ubc88\ud638 *"}),(0,c.jsx)("p",{className:"text-gray-900 dark:text-gray-100 py-2",children:h.phone})]}),v5:F?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("label",{htmlFor:"company-email",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc774\uba54\uc77c"}),(0,c.jsx)("input",{id:"company-email",type:"email",name:"email",value:null!==(n=S.email)&&void 0!==n?n:"",onChange:M,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc774\uba54\uc77c"}),(0,c.jsx)("p",{className:"text-gray-900 dark:text-gray-100 py-2",children:null!==(m=h.email)&&void 0!==m?m:"-"})]}),v6:F?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("label",{htmlFor:"company-address",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc8fc\uc18c *"}),(0,c.jsx)("input",{id:"company-address",type:"text",name:"address",value:null!==(x=S.address)&&void 0!==x?x:"",onChange:M,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",required:!0})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc8fc\uc18c *"}),(0,c.jsx)("p",{className:"text-gray-900 dark:text-gray-100 py-2",children:h.address})]}),v7:F?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("label",{htmlFor:"company-bank-account",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uacc4\uc88c\ubc88\ud638"}),(0,c.jsx)("input",{id:"company-bank-account",type:"text",name:"bankAccount",value:null!==(g=S.bankAccount)&&void 0!==g?g:"",onChange:M,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uacc4\uc88c\ubc88\ud638"}),(0,c.jsx)("p",{className:"text-gray-900 dark:text-gray-100 py-2",children:null!==(u=h.bankAccount)&&void 0!==u?u:"-"})]}),v8:F?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("label",{htmlFor:"company-account-holder",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc608\uae08\uc8fc\uba85"}),(0,c.jsx)("input",{id:"company-account-holder",type:"text",name:"accountHolder",value:null!==(y=S.accountHolder)&&void 0!==y?y:"",onChange:M,className:"w-full border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc608\uae08\uc8fc\uba85"}),(0,c.jsx)("p",{className:"text-gray-900 dark:text-gray-100 py-2",children:null!==(b=h.accountHolder)&&void 0!==b?b:"-"})]}),v9:A,v10:e=>D(e.target.value),v11:()=>{const e=A.trim();e.length>0&&!p.includes(e)?(j(r=>[...r,e]),D(""),alert("\uc0c8\ub85c\uc6b4 \ub2e8\uc704\uac00 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")):p.includes(e)&&alert("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \ub2e8\uc704\uc785\ub2c8\ub2e4.")},v12:p.map(e=>(0,c.jsxs)("span",{className:"inline-flex items-center bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 py-1 rounded text-xs",children:[e,(0,c.jsx)("button",{onClick:()=>{q(e)},className:"ml-2 text-red-600 dark:text-red-400",children:"\u2715"})]},e)),v13:I,v14:e=>H(e.target.value),v15:()=>{const e=I.trim();e.length>0&&!k.includes(e)?(f(r=>[...r,e]),H(""),alert("\uc0c8\ub85c\uc6b4 \uce74\ud14c\uace0\ub9ac\uac00 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")):k.includes(e)&&alert("\uc774\ubbf8 \uc874\uc7ac\ud558\ub294 \uce74\ud14c\uace0\ub9ac\uc785\ub2c8\ub2e4.")},v16:k.map(e=>(0,c.jsxs)("span",{className:"inline-flex items-center bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 px-2 py-1 rounded text-xs",children:[e,(0,c.jsx)("button",{onClick:()=>{L(e)},className:"ml-2 text-red-600 dark:text-red-400",children:"\u2715"})]},e)),v17:(0,c.jsx)("input",{ref:B,id:"stamp-image",type:"file",accept:"image/jpeg,image/jpg,image/png,image/gif,image/webp",onChange:async e=>{var r;const t=(null!==(r=e.target.files)&&void 0!==r?r:[])[0];if(void 0!==t){if(!t.type.startsWith("image/"))return alert("\uc774\ubbf8\uc9c0 \ud30c\uc77c\ub9cc \uc5c5\ub85c\ub4dc \uac00\ub2a5\ud569\ub2c8\ub2e4. (JPG, PNG, GIF \ub4f1)"),void(null!==B.current&&(B.current.value=""));if(t.size>2097152)return alert("\uc774\ubbf8\uc9c0 \ud30c\uc77c \ud06c\uae30\ub294 2MB\ub97c \ucd08\uacfc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.\n\ud604\uc7ac \ud30c\uc77c \ud06c\uae30: ".concat(Math.round(t.size/1024),"KB")),void(null!==B.current&&(B.current.value=""));try{const e=await(0,d.UV)(t);v((0,a.A)((0,a.A)({},h),{},{stampImage:e})),N(e),await(0,d.cF)(e),alert("\ub3c4\uc7a5 \uc774\ubbf8\uc9c0\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(n){alert("\uc774\ubbf8\uc9c0 \ucc98\ub9ac \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.\n\ud30c\uc77c\uc774 \uc190\uc0c1\ub418\uc5c8\uac70\ub098 \uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ud615\uc2dd\uc77c \uc218 \uc788\uc2b5\ub2c8\ub2e4."),null!==B.current&&(B.current.value="")}}},className:"hidden"}),v18:()=>{var e;return null===(e=B.current)||void 0===e?void 0:e.click()},v19:null!==w&&(0,c.jsx)("button",{onClick:()=>_(!0),className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded text-sm font-medium transition-colors",children:"\ud83d\uddd1\ufe0f \uc0ad\uc81c"}),v20:null!==w?(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)("img",{src:w,alt:"\uc5c5\ub85c\ub4dc\ub41c \ub3c4\uc7a5 \uc774\ubbf8\uc9c0",className:"w-20 h-20 object-contain border border-gray-200 dark:border-gray-600 rounded bg-white dark:bg-gray-800 shadow-sm"}),(0,c.jsxs)("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[(0,c.jsx)("p",{className:"font-medium text-green-600 dark:text-green-400 mb-1",children:"\u2705 \ub3c4\uc7a5 \uc774\ubbf8\uc9c0\uac00 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4"}),(0,c.jsx)("p",{children:"\uccad\uad6c\uc11c \ucd9c\ub825 \uc2dc \uc790\ub3d9\uc73c\ub85c \ud45c\uc2dc\ub429\ub2c8\ub2e4"})]})]}):(0,c.jsxs)("div",{className:"text-center py-4",children:[(0,c.jsx)("div",{className:"text-gray-400 dark:text-gray-500 mb-2",children:(0,c.jsx)("svg",{className:"mx-auto h-12 w-12",stroke:"currentColor",fill:"none",viewBox:"0 0 48 48",children:(0,c.jsx)("path",{d:"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,c.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1",children:"\ub3c4\uc7a5 \uc774\ubbf8\uc9c0\uac00 \ub4f1\ub85d\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4"}),(0,c.jsx)("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"JPG, PNG, GIF \ud30c\uc77c (\ucd5c\ub300 2MB)"})]}),v21:(0,c.jsx)(i.A,{open:null!=T,title:"\ub2e8\uc704 \uc0ad\uc81c",message:"'".concat(null!==T&&void 0!==T?T:"","' \ub2e8\uc704\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \uc774 \uc791\uc5c5\uc740 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),confirmText:"\uc0ad\uc81c",cancelText:"\ucde8\uc18c",onConfirm:()=>{null!==T&&(j(e=>e.filter(e=>e!==T)),q(null),alert("\ub2e8\uc704\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."))},onCancel:()=>q(null)}),v22:(0,c.jsx)(i.A,{open:null!=G,title:"\uce74\ud14c\uace0\ub9ac \uc0ad\uc81c",message:"'".concat(null!==G&&void 0!==G?G:"","' \uce74\ud14c\uace0\ub9ac\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \uc774 \uc791\uc5c5\uc740 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),confirmText:"\uc0ad\uc81c",cancelText:"\ucde8\uc18c",onConfirm:()=>{null!==G&&(f(e=>e.filter(e=>e!==G)),L(null),alert("\uce74\ud14c\uace0\ub9ac\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."))},onCancel:()=>L(null)}),v23:(0,c.jsx)(i.A,{open:U,title:"\ub3c4\uc7a5 \uc774\ubbf8\uc9c0 \uc0ad\uc81c",message:"\ub3c4\uc7a5 \uc774\ubbf8\uc9c0\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \uc774 \uc791\uc5c5\uc740 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",confirmText:"\uc0ad\uc81c",cancelText:"\ucde8\uc18c",onConfirm:async()=>{try{v((0,a.A)((0,a.A)({},h),{},{stampImage:void 0})),N(null),await(0,d.V6)(),null!==B.current&&(B.current.value=""),alert("\ub3c4\uc7a5 \uc774\ubbf8\uc9c0\uac00 \uc644\uc804\ud788 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(e){alert("\uc774\ubbf8\uc9c0 \uc0ad\uc81c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}_(!1)},onCancel:()=>_(!1)})})}},1288:(e,r,t)=>{t.d(r,{UV:()=>j,loadStampImage:()=>v,V6:()=>p,cF:()=>h});var a=t(5644);const n="handles",s="dirHandle";function l(){return"undefined"!==typeof window&&"showDirectoryPicker"in window}function d(){return new Promise((e,r)=>{const t=indexedDB.open("cms-fs",1);t.onupgradeneeded=()=>{const e=t.result;e.objectStoreNames.contains(n)||e.createObjectStore(n)},t.onsuccess=()=>e(t.result),t.onerror=()=>r(t.error)})}async function i(){if(!l())return null;try{const e=await async function(e){const r=await d();return new Promise((t,a)=>{const s=r.transaction(n,"readonly").objectStore(n).get(e);s.onsuccess=()=>{var e;return t(null!==(e=s.result)&&void 0!==e?e:null)},s.onerror=()=>a(s.error)})}(s);return null!==e&&void 0!==e?e:null}catch(e){return null}}async function c(e){if(!l())return!1;try{return await async function(e,r){const t=await d();return new Promise((a,s)=>{const l=t.transaction(n,"readwrite").objectStore(n).put(r,e);l.onsuccess=()=>a(),l.onerror=()=>s(l.error)})}(s,e),!0}catch(r){return!1}}async function o(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readwrite";return null!=e&&("granted"===await e.queryPermission({mode:r})||"granted"===await e.requestPermission({mode:r}))}async function m(e,r){return await e.getFileHandle(r,{create:!0})}async function x(e,r,t){try{if(null==e&&(e=await i()),null==e)return!1;if(!await o(e,"readwrite"))return!1;const a=await m(e,"".concat(r,".json")),n=await a.createWritable(),s=2;return await n.write(new Blob([JSON.stringify(t,null,s)],{type:"application/json"})),await n.close(),!0}catch(a){return!1}}const g={isSupported:l,getSavedDirectoryHandle:i,saveDirectoryHandle:c,chooseDirectory:async function(){if(!l())return null;try{if("function"!==typeof window.showDirectoryPicker)return null;const e=await window.showDirectoryPicker({id:"cms-data"});return await o(e,"readwrite")?(await c(e),e):null}catch(e){return null}},readKey:async function(e,r){try{if(null==e&&(e=await i()),null==e||null==r||""===r)return null;if(!await o(e,"read"))return null;const t=await m(e,"".concat(r,".json")),a=await t.getFile(),n=await a.text();return 0===n.length?null:JSON.parse(n)}catch(t){return null}},writeKey:x,writeKeyDirect:async function(e,r){const t=await i();return null!=t&&await x(t,e,r)},writeImageFile:async function(e,r){try{const t=await i();if(null==t)return!1;if(!await o(t,"readwrite"))return!1;const a=await t.getFileHandle(e,{create:!0}),n=await a.createWritable();return await n.write(r),await n.close(),!0}catch(t){return!1}}},u="stampImages",y="companyStamp",b=()=>new Promise((e,r)=>{const t=indexedDB.open("ConstructionAppDB",1);t.onerror=()=>r(t.error),t.onsuccess=()=>e(t.result),t.onupgradeneeded=e=>{const r=e.target.result;r.objectStoreNames.contains(u)||r.createObjectStore(u)}}),h=async e=>{try{const t=await fetch(e),n=await t.blob(),s=5*a.nH*a.nH;if(n.size>s)return!1;const l=await b(),d=l.transaction([u],"readwrite").objectStore(u);if(await new Promise((e,r)=>{const t=d.put(n,y);t.onsuccess=()=>e(),t.onerror=()=>r(t.error)}),l.close(),g.isSupported())try{await g.writeImageFile("company-stamp.png",n)}catch(r){}return!0}catch(t){return!1}},v=async()=>{try{const e=await b(),r=e.transaction([u],"readonly").objectStore(u),t=await new Promise((e,t)=>{const a=r.get(y);a.onsuccess=()=>{const r=a.result;e(void 0!==r&&null!==r?r:null)},a.onerror=()=>t(a.error)});return e.close(),null===t?null:new Promise((e,r)=>{const a=new FileReader;a.onload=()=>e(a.result),a.onerror=()=>r(a.error),a.readAsDataURL(t)})}catch(e){return null}},p=async()=>{try{const e=await b(),r=e.transaction([u],"readwrite").objectStore(u);return await new Promise((e,t)=>{const a=r.delete(y);a.onsuccess=()=>e(),a.onerror=()=>t(a.error)}),e.close(),!0}catch(e){return!1}},j=e=>new Promise((r,t)=>{const a=new FileReader;a.onload=e=>{var a;const n=null===(a=e.target)||void 0===a?void 0:a.result;"string"===typeof n?r(n):t(new Error("Failed to convert file to base64"))},a.onerror=e=>t(e),a.readAsDataURL(e)})},5826:(e,r,t)=>{t.d(r,{n:()=>a.n});var a=t(8026)},6520:(e,r,t)=>{t.d(r,{A:()=>l});var a=t(6601),n=(t(9198),t(5582));const s=(0,a.FZ)(e=>(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 dark:bg-black dark:bg-opacity-50 flex items-center justify-center z-50",children:(0,n.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg w-full max-w-md p-6",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:e.v0}),(0,n.jsx)("div",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:e.v1}),(0,n.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,n.jsx)("button",{onClick:e.v2,className:"px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-800 dark:hover:text-gray-100",children:e.v3}),(0,n.jsx)("button",{onClick:e.v4,className:"px-4 py-2 bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800 text-white rounded",children:e.v5})]})]})}),{name:"ConfirmDialog_1",portals:["v0","v1","v3","v5"]}),l=e=>{let{open:r,title:t,message:a,confirmText:l="\ud655\uc778",cancelText:d="\ucde8\uc18c",onConfirm:i,onCancel:c}=e;return r?(0,n.jsx)(s,{v0:t,v1:a,v2:c,v3:d,v4:i,v5:l}):null}}}]);
//# sourceMappingURL=217.88f5c99a.chunk.js.map