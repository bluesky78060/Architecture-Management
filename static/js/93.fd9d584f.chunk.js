"use strict";(self.webpackChunkconstruction_management_frontend=self.webpackChunkconstruction_management_frontend||[]).push([[93],{7093:(e,r,a)=>{a.r(r),a.d(r,{default:()=>h});var t=a(6601),s=a(9198),d=a(109),l=a(8458),n=a(3515),o=a(5345),i=a(1182),c=a(7542),x=a(1415),m=a(2930),u=a(6696),g=a(5582);const b=(0,t.FZ)(e=>(0,g.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,g.jsxs)("div",{className:"mb-8",children:[(0,g.jsx)("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:"\uc124\uc815"}),(0,g.jsx)("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"\uacc4\uc815 \uc815\ubcf4\ub97c \uad00\ub9ac\ud558\uc138\uc694"})]}),(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-6",children:[(0,g.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[e.v0,"\ud604\uc7ac \ub85c\uadf8\uc778 \uc815\ubcf4"]}),(0,g.jsxs)("div",{className:"space-y-3",children:[(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300 w-32",children:"\ub85c\uadf8\uc778 \ubc29\uc2dd:"}),(0,g.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:e.v1})]}),(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300 w-32",children:"\uc774\ub984:"}),(0,g.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:e.v2})]}),(0,g.jsxs)("div",{className:"flex items-center",children:[(0,g.jsx)("span",{className:"font-medium text-gray-700 dark:text-gray-300 w-32",children:"\uc774\uba54\uc77c:"}),(0,g.jsx)("span",{className:"text-gray-900 dark:text-gray-100",children:e.v3})]}),e.v4]})]}),(0,g.jsxs)("div",{className:"space-y-6",children:[(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,g.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[e.v5,"\uc774\ub984 \ubcc0\uacbd"]}),(0,g.jsxs)("form",{onSubmit:e.v6,className:"space-y-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"newName",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc0c8 \uc774\ub984"}),(0,g.jsx)("input",{id:"newName",type:"text",value:e.v7,onChange:e.v8,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"\uc0c8 \uc774\ub984\uc744 \uc785\ub825\ud558\uc138\uc694"})]}),e.v9,e.v10,(0,g.jsx)("button",{type:"submit",disabled:e.v11,className:"w-full bg-blue-600 text-white py-2.5 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:e.v12})]})]}),e.v13,e.v14,(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,g.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[e.v15,"\ub85c\uadf8\uc544\uc6c3"]}),(0,g.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:"\ubaa8\ub4e0 \uae30\uae30\uc5d0\uc11c \ub85c\uadf8\uc544\uc6c3\ub429\ub2c8\ub2e4."}),(0,g.jsx)("button",{type:"button",onClick:e.v16,className:"w-full bg-red-600 text-white py-2.5 px-4 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 transition-colors",children:"\ub85c\uadf8\uc544\uc6c3"})]})]})]}),{name:"Settings_1",portals:["v0","v1","v2","v3","v4","v5","v9","v10","v12","v13","v14","v15"]}),h=()=>{const e=(0,d.Zp)(),{currentUser:r,logout:a}=(0,u.Jd)(),[t,h]=(0,s.useState)(""),[v,y]=(0,s.useState)(""),[p,k]=(0,s.useState)(null),[f,j]=(0,s.useState)(""),[N,w]=(0,s.useState)(!1),[S,A]=(0,s.useState)(""),[C,_]=(0,s.useState)(""),[F,U]=(0,s.useState)(""),[P,D]=(0,s.useState)(!1),[E,Z]=(0,s.useState)(""),[G,J]=(0,s.useState)(""),[K,q]=(0,s.useState)(""),[z,B]=(0,s.useState)(""),[H,I]=(0,s.useState)(!1),[L,M]=(0,s.useState)(""),[O,Q]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{if(null!==r&&void 0!==r&&(h(null!==r.username&&void 0!==r.username?r.username:""),y(null!==r.name&&void 0!==r.name?r.name:""),j(null!==r.name&&void 0!==r.name?r.name:""),U(null!==r.username&&void 0!==r.username?r.username:"")),null!==m.supabase)try{const{data:{user:r}}=await m.supabase.auth.getUser();if(null!==r&&void 0!==r){let a="email";if(r.identities&&r.identities.length>0){const e=r.identities[0].provider;a="google"===e?"google":"kakao"===e?"kakao":"email"}else{var e;const t=null===(e=r.app_metadata)||void 0===e?void 0:e.provider;a="google"===t?"google":"kakao"===t?"kakao":"email"}k(a)}}catch(a){k("email")}})()},[r]);const R=e=>"google"===e?"Google \ub85c\uadf8\uc778":"kakao"===e?"Kakao \ub85c\uadf8\uc778":"email"===e?"\uc774\uba54\uc77c \ub85c\uadf8\uc778":"\uc54c \uc218 \uc5c6\uc74c",T="google"===p||"kakao"===p;return(0,g.jsx)(b,{v0:(0,g.jsx)(c.A,{className:"w-6 h-6 mr-2 text-blue-600 dark:text-blue-400"}),v1:R(p),v2:""!==v&&null!==v?v:"(\uc5c6\uc74c)",v3:t,v4:T&&(0,g.jsx)("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-md",children:(0,g.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["SNS \ub85c\uadf8\uc778 \uc0ac\uc6a9\uc790\ub294 ",R(p)," \uacc4\uc815\uc5d0\uc11c \uc815\ubcf4\ub97c \uad00\ub9ac\ud569\ub2c8\ub2e4."]})}),v5:(0,g.jsx)(c.A,{className:"w-6 h-6 mr-2 text-blue-600 dark:text-blue-400"}),v6:async e=>{if(e.preventDefault(),null!==m.supabase&&void 0!==m.supabase){if(w(!0),_(""),A(""),""===f.trim())return _("\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),void w(!1);try{const{error:e}=await m.supabase.auth.updateUser({data:{name:f}});null!==e&&void 0!==e?_(e.message):(A("\uc774\ub984\uc774 \uc131\uacf5\uc801\uc73c\ub85c \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),y(f))}catch(r){_("\uc774\ub984 \ubcc0\uacbd \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{w(!1)}}},v7:f,v8:e=>j(e.target.value),v9:""!==C&&(0,g.jsxs)("div",{className:"flex items-center p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:[(0,g.jsx)(x.A,{className:"w-5 h-5 text-red-600 dark:text-red-400 mr-2"}),(0,g.jsx)("p",{className:"text-red-700 dark:text-red-300 text-sm",children:C})]}),v10:""!==S&&(0,g.jsxs)("div",{className:"flex items-center p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md",children:[(0,g.jsx)(n.A,{className:"w-5 h-5 text-green-600 dark:text-green-400 mr-2"}),(0,g.jsx)("p",{className:"text-green-700 dark:text-green-300 text-sm",children:S})]}),v11:N,v12:N?"\ubcc0\uacbd \uc911...":"\uc774\ub984 \ubcc0\uacbd",v13:!T&&(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,g.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[(0,g.jsx)(o.A,{className:"w-6 h-6 mr-2 text-blue-600 dark:text-blue-400"}),"\uc774\uba54\uc77c \ubcc0\uacbd"]}),(0,g.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),null!==m.supabase&&void 0!==m.supabase){if(D(!0),J(""),Z(""),""===F.trim()||!F.includes("@"))return J("\uc720\ud6a8\ud55c \uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694."),void D(!1);if(F===t)return J("\ud604\uc7ac \uc774\uba54\uc77c\uacfc \ub3d9\uc77c\ud569\ub2c8\ub2e4."),void D(!1);try{const{error:e}=await m.supabase.auth.updateUser({email:F});null!==e&&void 0!==e?J(e.message):Z("\uc774\uba54\uc77c \ubcc0\uacbd \ud655\uc778 \uba54\uc77c\uc774 \ubc1c\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc0c8 \uc774\uba54\uc77c\uc5d0\uc11c \ud655\uc778\ud574\uc8fc\uc138\uc694.")}catch(r){J("\uc774\uba54\uc77c \ubcc0\uacbd \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{D(!1)}}},className:"space-y-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"newEmail",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc0c8 \uc774\uba54\uc77c"}),(0,g.jsx)("input",{id:"newEmail",type:"email",value:F,onChange:e=>U(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"\uc0c8 \uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694"})]}),""!==G&&(0,g.jsxs)("div",{className:"flex items-center p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:[(0,g.jsx)(x.A,{className:"w-5 h-5 text-red-600 dark:text-red-400 mr-2"}),(0,g.jsx)("p",{className:"text-red-700 dark:text-red-300 text-sm",children:G})]}),""!==E&&(0,g.jsxs)("div",{className:"flex items-center p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md",children:[(0,g.jsx)(n.A,{className:"w-5 h-5 text-green-600 dark:text-green-400 mr-2"}),(0,g.jsx)("p",{className:"text-green-700 dark:text-green-300 text-sm",children:E})]}),(0,g.jsx)("button",{type:"submit",disabled:P,className:"w-full bg-blue-600 text-white py-2.5 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:P?"\ubcc0\uacbd \uc911...":"\uc774\uba54\uc77c \ubcc0\uacbd"}),(0,g.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"* \uc774\uba54\uc77c \ubcc0\uacbd \uc2dc \uc0c8 \uc774\uba54\uc77c\ub85c \ud655\uc778 \uba54\uc77c\uc774 \ubc1c\uc1a1\ub429\ub2c8\ub2e4."})]})]}),v14:!T&&(0,g.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6",children:[(0,g.jsxs)("h2",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4 flex items-center",children:[(0,g.jsx)(i.A,{className:"w-6 h-6 mr-2 text-blue-600 dark:text-blue-400"}),"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd"]}),(0,g.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),null!==m.supabase&&void 0!==m.supabase){if(I(!0),Q(""),M(""),K.length<6)return Q("\uc0c8 \ube44\ubc00\ubc88\ud638\ub294 \ucd5c\uc18c 6\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4."),void I(!1);if(K!==z)return Q("\uc0c8 \ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),void I(!1);try{const{error:e}=await m.supabase.auth.updateUser({password:K});null!==e&&void 0!==e?Q(e.message):(M("\ube44\ubc00\ubc88\ud638\uac00 \uc131\uacf5\uc801\uc73c\ub85c \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),q(""),B(""))}catch(r){Q("\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.")}finally{I(!1)}}},className:"space-y-4",children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc0c8 \ube44\ubc00\ubc88\ud638"}),(0,g.jsx)("input",{id:"newPassword",type:"password",value:K,onChange:e=>q(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"\uc0c8 \ube44\ubc00\ubc88\ud638 (\ucd5c\uc18c 6\uc790)"})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"\uc0c8 \ube44\ubc00\ubc88\ud638 \ud655\uc778"}),(0,g.jsx)("input",{id:"confirmPassword",type:"password",value:z,onChange:e=>B(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",placeholder:"\uc0c8 \ube44\ubc00\ubc88\ud638 \ud655\uc778"})]}),""!==O&&(0,g.jsxs)("div",{className:"flex items-center p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md",children:[(0,g.jsx)(x.A,{className:"w-5 h-5 text-red-600 dark:text-red-400 mr-2"}),(0,g.jsx)("p",{className:"text-red-700 dark:text-red-300 text-sm",children:O})]}),""!==L&&(0,g.jsxs)("div",{className:"flex items-center p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-md",children:[(0,g.jsx)(n.A,{className:"w-5 h-5 text-green-600 dark:text-green-400 mr-2"}),(0,g.jsx)("p",{className:"text-green-700 dark:text-green-300 text-sm",children:L})]}),(0,g.jsx)("button",{type:"submit",disabled:H,className:"w-full bg-blue-600 text-white py-2.5 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:H?"\ubcc0\uacbd \uc911...":"\ube44\ubc00\ubc88\ud638 \ubcc0\uacbd"})]})]}),v15:(0,g.jsx)(l.A,{className:"w-6 h-6 mr-2 text-red-600 dark:text-red-400"}),v16:async()=>{window.confirm("\ub85c\uadf8\uc544\uc6c3 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(a(),e("/"))}})}}}]);
//# sourceMappingURL=93.fd9d584f.chunk.js.map