# 건축 관리 시스템 (Architecture Management System)

## 📋 프로젝트 개요

**건축 관리 시스템**은 건축업자가 건축주와의 프로젝트를 체계적으로 관리하고, 작업 항목을 추적하며, 전문적인 견적서와 청구서를 생성할 수 있는 통합 관리 솔루션입니다.

---

## 🎯 핵심 가치

### 1. 효율적인 프로젝트 관리
- 건축주별 다중 작업장 관리
- 프로젝트별 작업 항목 추적
- 실시간 진행 상황 모니터링

### 2. 전문적인 문서 생성
- 자동화된 견적서 생성
- 세금계산서 호환 청구서
- PDF 다운로드 및 인쇄 지원

### 3. 데이터 보안
- Supabase 클라우드 데이터베이스
- 사용자별 데이터 격리 (RLS)
- AES-256-GCM 암호화

---

## 🚀 주요 기능

### 📊 대시보드
- **실시간 통계**: 전체 청구 현황 및 수금 상태
- **시각화 차트**: 월별/분기별 수익 분석
- **빠른 작업**: 자주 사용하는 기능 바로가기

### 👥 건축주 관리
- **개인/사업자 구분**: 맞춤형 정보 관리
- **다중 작업장**: 건축주당 여러 프로젝트 현장 관리
- **프로젝트 히스토리**: 과거 작업 내역 조회
- **Excel 가져오기/내보내기**: 대량 데이터 처리

### 🔧 작업 항목 관리
- **건축주별 분류**: 고객별 작업 항목 그룹화
- **작업장 연동**: 특정 현장별 작업 관리
- **단가 관리**: 자주 사용하는 작업의 기본 단가 설정
- **일괄 추가**: 여러 작업 항목 한 번에 등록

### 📄 견적서 생성
- **자동 계산**: 수량 × 단가 자동 합산
- **부가세 처리**: 10% 부가세 자동 계산
- **건축주 정보**: 작업장 주소 자동 포함
- **PDF 생성**: 한글 폰트 완벽 지원

### 💰 청구서 발행
- **세금계산서 형식**: 국세청 양식 준수
- **도장 시스템**: 이미지 업로드 및 위치 조정
- **발행일 관리**: 청구서 발행 이력 추적
- **Excel 내보내기**: 회계 시스템 연동

### 🏢 회사 정보 관리
- **사업자 정보**: 상호, 대표자, 사업자번호
- **사업장 주소**: 본사 및 지점 정보
- **업태/업종**: 세금계산서용 필수 정보
- **연락처**: 전화, 팩스, 이메일

### ⚙️ 시스템 설정
- **사용자 프로필**: 이름, 이메일, 비밀번호 변경
- **로그인 방식**: 이메일, Google, Kakao 지원
- **다크모드**: 눈의 피로를 줄이는 어두운 테마
- **데이터 백업**: Excel 내보내기로 정기 백업

---

## 💻 기술 스택

### Frontend
- **React 18**: 최신 React Hooks 및 성능 최적화
- **TypeScript**: 타입 안전성 및 코드 품질 향상
- **Tailwind CSS**: 반응형 디자인 및 다크모드
- **React Router v6**: SPA 라우팅
- **Heroicons**: 일관된 아이콘 시스템

### Backend & Database
- **Supabase**: PostgreSQL 클라우드 데이터베이스
- **Row Level Security (RLS)**: 사용자별 데이터 격리
- **Real-time Subscriptions**: 실시간 데이터 동기화

### PDF & Excel
- **jsPDF**: PDF 문서 생성
- **jsPDF-AutoTable**: 테이블 자동 생성
- **ExcelJS**: Excel 파일 읽기/쓰기
- **html2canvas**: 화면 캡처 및 이미지 변환

### Security
- **AES-256-GCM**: 암호화 알고리즘
- **PBKDF2**: 키 파생 함수 (100,000 iterations)
- **Supabase Auth**: 이메일, Google, Kakao OAuth

### Deployment
- **Vercel**: 자동 배포 및 CDN
- **GitHub Actions**: CI/CD 파이프라인
- **Electron**: 데스크톱 앱 (Windows, macOS)

---

## 📦 설치 및 실행

### 웹 애플리케이션

#### 개발 모드
```bash
# 의존성 설치
npm install

# 개발 서버 시작 (http://localhost:3000)
npm start
```

#### 프로덕션 빌드
```bash
# 프로덕션 빌드
npm run build

# 빌드 결과물 실행
npm install -g serve
serve -s build
```

### 데스크톱 애플리케이션

#### Windows 설치 파일 생성
```bash
npm run dist-win
# 생성 위치: dist/건설 청구서 관리 시스템 Setup 0.1.0.exe
```

#### macOS 설치 파일 생성
```bash
npm run dist-mac
# 생성 위치: dist/건설 청구서 관리 시스템-0.1.0.dmg
```

#### 모든 플랫폼 동시 생성
```bash
npm run dist-all
```

---

## 🌐 배포 옵션

### 1. 클라우드 호스팅 (추천)

#### Vercel (현재 배포)
- **URL**: https://architecture-management.vercel.app
- **배포 방식**: GitHub main 브랜치 자동 배포
- **특징**: 무료, CDN, HTTPS, 자동 빌드

#### Netlify
```bash
# Netlify CLI 설치
npm install -g netlify-cli

# 배포
netlify deploy --prod
```

#### GitHub Pages
```bash
# gh-pages 배포
npm run deploy
```

### 2. 로컬 네트워크
```bash
# 로컬 네트워크에서 접근 가능
npm start
# 같은 Wi-Fi의 다른 기기에서 http://[내-IP]:3000 접속
```

### 3. 데스크톱 앱
- **Windows**: `.exe` 설치 파일
- **macOS**: `.dmg` 설치 파일
- **오프라인 사용**: 인터넷 연결 불필요

---

## 📱 시스템 요구사항

### 웹 브라우저
- **Chrome**: 버전 90 이상
- **Firefox**: 버전 88 이상
- **Safari**: 버전 14 이상
- **Edge**: 버전 90 이상

### 데스크톱 앱
- **Windows**: Windows 10 이상 (64bit)
- **macOS**: macOS 10.14 (Mojave) 이상
- **메모리**: 최소 4GB RAM
- **저장공간**: 200MB 이상

### 인터넷 연결
- **웹 앱**: Supabase 접속 필요 (항상 연결)
- **데스크톱 앱**: 초기 로그인만 필요

---

## 🔒 보안 기능

### 인증 시스템
- **다중 로그인 방식**: 이메일, Google, Kakao
- **사용자 승인 시스템**: 관리자 승인 후 사용 가능
- **세션 관리**: 로그인 상태 유지 옵션

### 데이터 보안
- **RLS (Row Level Security)**: 사용자별 데이터 완전 격리
- **AES-256-GCM**: 민감 정보 암호화
- **HTTPS**: 전송 구간 암호화 (Vercel 자동 적용)

### Supabase 보안 강화 (2025.10.23)
- **Function Search Path**: SQL Injection 방지
- **Leaked Password Protection**: 유출 비밀번호 차단
- **pg_net Extension**: 안전한 HTTP 요청

---

## 📊 프로젝트 통계

### 코드베이스
- **총 라인 수**: 약 15,000 라인
- **컴포넌트**: 30+ React 컴포넌트
- **타입 정의**: 100% TypeScript 적용
- **테스트**: 265개 테스트 (99.6% 통과율)

### 개발 기간
- **시작일**: 2024년 Q4
- **현재 버전**: v2.0.0
- **주요 마일스톤**:
  - v1.0.0: 기본 CRUD 기능
  - v1.1.0: Supabase 마이그레이션
  - v2.0.0: 사용자 승인 시스템

### 최근 업데이트 (2025.10.23)
- ✅ PDF 사용자 가이드
- ✅ 로그인 페이지 가이드 팝업
- ✅ Supabase 보안 강화

---

## 📖 사용자 가이드

### 사용자 가이드 접근 방법
1. **로그인 페이지**: "사용자 가이드" 버튼 클릭
2. **온라인 보기**: 웹 브라우저에서 바로 확인
3. **PDF 다운로드**: 오프라인 참고용 PDF 다운로드

### 주요 사용 시나리오

#### 1. 새 건축주 등록
1. 좌측 메뉴 → "건축주" 클릭
2. "건축주 추가" 버튼 클릭
3. 개인/사업자 선택 후 정보 입력
4. 작업장 정보 추가 (주소, 프로젝트명)
5. "저장" 버튼 클릭

#### 2. 작업 항목 관리
1. 좌측 메뉴 → "작업 항목" 클릭
2. "작업 항목 추가" 버튼 클릭
3. 건축주, 작업장, 프로젝트 선택
4. 작업명, 수량, 단가 입력
5. 인건비 정보 입력 (선택 사항)

#### 3. 견적서 생성
1. 좌측 메뉴 → "견적서" 클릭
2. "견적서 생성" 버튼 클릭
3. 건축주 선택
4. 작업 항목 선택 (여러 개 가능)
5. 할인 및 메모 입력
6. "견적서 생성" 버튼 클릭

#### 4. 청구서 발행
1. 좌측 메뉴 → "청구서" 클릭
2. "청구서 발행" 버튼 클릭
3. 견적서 기반 또는 직접 입력
4. 발행일 및 도장 설정
5. "PDF 다운로드" 버튼으로 저장

---

## 🛠️ 문제 해결

### PDF 생성 오류
**증상**: PDF 다운로드 버튼을 눌러도 아무 반응이 없음

**해결 방법**:
1. 브라우저 팝업 차단 해제
2. 개발자 도구(F12) → Console 탭에서 오류 확인
3. 브라우저 업데이트 (Chrome 최신 버전 권장)

### Supabase 연결 오류
**증상**: "Failed to fetch" 오류 메시지

**해결 방법**:
1. 인터넷 연결 확인
2. Supabase 프로젝트 상태 확인
3. 환경 변수 설정 확인 (.env 파일)

### Electron 앱 실행 오류
**증상**: 데스크톱 앱이 시작되지 않음

**해결 방법**:
1. Node.js 버전 확인 (v14 이상 필요)
2. 보안 소프트웨어 예외 추가
3. 관리자 권한으로 실행 (Windows)

### 포트 충돌 오류
**증상**: "Port 3000 is already in use"

**해결 방법**:
```bash
# 다른 포트로 실행
PORT=3001 npm start

# 또는 기존 프로세스 종료
lsof -ti:3000 | xargs kill -9
```

---

## 📞 지원 및 연락처

### 기술 지원
- **GitHub Issues**: 버그 리포트 및 기능 제안
- **Email**: bluesky78060@gmail.com

### 개발자
- **이름**: 이찬희
- **GitHub**: https://github.com/bluesky78060

### 프로젝트 링크
- **GitHub Repository**: https://github.com/bluesky78060/Architecture-Management
- **Live Demo**: https://architecture-management.vercel.app

---

## 📄 라이선스

이 프로젝트는 **개인 및 상업적 사용이 가능**합니다.

### 사용 허가
✅ 개인 사용
✅ 상업적 사용
✅ 수정 및 배포
✅ 소스 코드 접근

### 제한 사항
❌ 라이선스 표기 제거 금지
❌ 저작권 정보 삭제 금지

---

## 🙏 감사의 말

이 프로젝트는 다음 오픈소스 라이브러리들을 사용합니다:

- **React** - UI 프레임워크
- **Supabase** - 백엔드 서비스
- **Tailwind CSS** - CSS 프레임워크
- **jsPDF** - PDF 생성
- **ExcelJS** - Excel 처리
- **Electron** - 데스크톱 앱

모든 기여자와 오픈소스 커뮤니티에 감사드립니다.

---

## 📅 업데이트 로그

### v2.0.0 (2025-10-23)
- ✨ PDF 사용자 가이드 추가
- ✨ 로그인 페이지 가이드 팝업
- 🔒 Supabase 보안 강화
- 🐛 체크박스 다크모드 수정

### v1.1.0 (2025-10-17)
- ✨ 사용자 승인 시스템
- ✨ Settings 페이지 구현
- 📧 이메일 알림 시스템
- 📖 RELEASE_NOTES.md 작성

### v1.0.0 (2025-10-14)
- 🚀 Supabase 완전 마이그레이션
- ✨ 건축주 CRUD 구현
- ✨ 작업 항목 관리
- ✨ 견적서 및 청구서 생성

---

**건축 관리 시스템** - 당신의 건축 프로젝트를 더 스마트하게 관리하세요! 🏗️
